(function(_,Le){"object"==typeof exports&&typeof module<"u"?module.exports=Le():"function"==typeof define&&define.amd?define(Le):(_=typeof globalThis<"u"?globalThis:_||self).bootstrap=Le()})(this,function(){"use strict";const _=new Map,Le={set(o,t,n){_.has(o)||_.set(o,new Map);const l=_.get(o);l.has(t)||0===l.size?l.set(t,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(l.keys())[0]}.`)},get:(o,t)=>_.has(o)&&_.get(o).get(t)||null,remove(o,t){if(!_.has(o))return;const n=_.get(o);n.delete(t),0===n.size&&_.delete(o)}},gi="transitionend",Ri=o=>(o&&window.CSS&&window.CSS.escape&&(o=o.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),o),bi=o=>{o.dispatchEvent(new Event(gi))},Ue=o=>!(!o||"object"!=typeof o)&&(void 0!==o.jquery&&(o=o[0]),void 0!==o.nodeType),it=o=>Ue(o)?o.jquery?o[0]:o:"string"==typeof o&&o.length>0?document.querySelector(Ri(o)):null,lt=o=>{if(!Ue(o)||0===o.getClientRects().length)return!1;const t="visible"===getComputedStyle(o).getPropertyValue("visibility"),n=o.closest("details:not([open])");if(!n)return t;if(n!==o){const l=o.closest("summary");if(l&&l.parentNode!==n||null===l)return!1}return t},ze=o=>!o||o.nodeType!==Node.ELEMENT_NODE||!!o.classList.contains("disabled")||(void 0!==o.disabled?o.disabled:o.hasAttribute("disabled")&&"false"!==o.getAttribute("disabled")),yi=o=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof o.getRootNode){const t=o.getRootNode();return t instanceof ShadowRoot?t:null}return o instanceof ShadowRoot?o:o.parentNode?yi(o.parentNode):null},ei=()=>{},mt=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Dt=[],Ae=()=>"rtl"===document.documentElement.dir,Ee=o=>{var t;t=()=>{const n=mt();if(n){const l=o.NAME,f=n.fn[l];n.fn[l]=o.jQueryInterface,n.fn[l].Constructor=o,n.fn[l].noConflict=()=>(n.fn[l]=f,o.jQueryInterface)}},"loading"===document.readyState?(Dt.length||document.addEventListener("DOMContentLoaded",()=>{for(const n of Dt)n()}),Dt.push(t)):t()},we=(o,t=[],n=o)=>"function"==typeof o?o(...t):n,vi=(o,t,n=!0)=>{if(!n)return void we(o);const l=(g=>{if(!g)return 0;let{transitionDuration:y,transitionDelay:T}=window.getComputedStyle(g);const S=Number.parseFloat(y),x=Number.parseFloat(T);return S||x?(y=y.split(",")[0],T=T.split(",")[0],1e3*(Number.parseFloat(y)+Number.parseFloat(T))):0})(t)+5;let f=!1;const p=({target:g})=>{g===t&&(f=!0,t.removeEventListener(gi,p),we(o))};t.addEventListener(gi,p),setTimeout(()=>{f||bi(t)},l)},_i=(o,t,n,l)=>{const f=o.length;let p=o.indexOf(t);return-1===p?!n&&l?o[f-1]:o[0]:(p+=n?1:-1,l&&(p=(p+f)%f),o[Math.max(0,Math.min(p,f-1))])},ws=/[^.]*(?=\..*)\.|.*/,Fi=/\..*/,qi=/::\d+$/,wi={};let Bi=1;const Vi={mouseenter:"mouseover",mouseleave:"mouseout"},ge=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Wi(o,t){return t&&`${t}::${Bi++}`||o.uidEvent||Bi++}function Ui(o){const t=Wi(o);return o.uidEvent=t,wi[t]=wi[t]||{},wi[t]}function zi(o,t,n=null){return Object.values(o).find(l=>l.callable===t&&l.delegationSelector===n)}function gt(o,t,n){const l="string"==typeof t,f=l?n:t||n;let p=Yi(o);return ge.has(p)||(p=o),[l,f,p]}function De(o,t,n,l,f){if("string"!=typeof t||!o)return;let[p,g,y]=gt(t,n,l);var D;t in Vi&&(D=g,g=function(I){if(!I.relatedTarget||I.relatedTarget!==I.delegateTarget&&!I.delegateTarget.contains(I.relatedTarget))return D.call(this,I)});const T=Ui(o),S=T[y]||(T[y]={}),x=zi(S,g,p?n:null);if(x)return void(x.oneOff=x.oneOff&&f);const E=Wi(g,t.replace(ws,"")),H=p?function($,D,I){return function j(ee){const re=$.querySelectorAll(D);for(let{target:B}=ee;B&&B!==this;B=B.parentNode)for(const Q of re)if(Q===B)return Ti(ee,{delegateTarget:B}),j.oneOff&&v.off($,ee.type,D,I),I.apply(B,[ee])}}(o,n,g):function($,D){return function I(j){return Ti(j,{delegateTarget:$}),I.oneOff&&v.off($,j.type,D),D.apply($,[j])}}(o,g);H.delegationSelector=p?n:null,H.callable=g,H.oneOff=f,H.uidEvent=E,S[E]=H,o.addEventListener(y,H,p)}function jt(o,t,n,l,f){const p=zi(t[n],l,f);p&&(o.removeEventListener(n,p,!!f),delete t[n][p.uidEvent])}function Ki(o,t,n,l){const f=t[n]||{};for(const[p,g]of Object.entries(f))p.includes(l)&&jt(o,t,n,g.callable,g.delegationSelector)}function Yi(o){return o=o.replace(Fi,""),Vi[o]||o}const v={on(o,t,n,l){De(o,t,n,l,!1)},one(o,t,n,l){De(o,t,n,l,!0)},off(o,t,n,l){if("string"!=typeof t||!o)return;const[f,p,g]=gt(t,n,l),y=g!==t,T=Ui(o),S=T[g]||{},x=t.startsWith(".");if(void 0===p){if(x)for(const E of Object.keys(T))Ki(o,T,E,t.slice(1));for(const[E,H]of Object.entries(S)){const $=E.replace(qi,"");y&&!t.includes($)||jt(o,T,g,H.callable,H.delegationSelector)}}else{if(!Object.keys(S).length)return;jt(o,T,g,p,f?n:null)}},trigger(o,t,n){if("string"!=typeof t||!o)return null;const l=mt();let f=null,p=!0,g=!0,y=!1;t!==Yi(t)&&l&&(f=l.Event(t,n),l(o).trigger(f),p=!f.isPropagationStopped(),g=!f.isImmediatePropagationStopped(),y=f.isDefaultPrevented());const T=Ti(new Event(t,{bubbles:p,cancelable:!0}),n);return y&&T.preventDefault(),g&&o.dispatchEvent(T),T.defaultPrevented&&f&&f.preventDefault(),T}};function Ti(o,t={}){for(const[n,l]of Object.entries(t))try{o[n]=l}catch{Object.defineProperty(o,n,{configurable:!0,get:()=>l})}return o}function ki(o){if("true"===o)return!0;if("false"===o)return!1;if(o===Number(o).toString())return Number(o);if(""===o||"null"===o)return null;if("string"!=typeof o)return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function ti(o){return o.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Ke={setDataAttribute(o,t,n){o.setAttribute(`data-bs-${ti(t)}`,n)},removeDataAttribute(o,t){o.removeAttribute(`data-bs-${ti(t)}`)},getDataAttributes(o){if(!o)return{};const t={},n=Object.keys(o.dataset).filter(l=>l.startsWith("bs")&&!l.startsWith("bsConfig"));for(const l of n){let f=l.replace(/^bs/,"");f=f.charAt(0).toLowerCase()+f.slice(1,f.length),t[f]=ki(o.dataset[l])}return t},getDataAttribute:(o,t)=>ki(o.getAttribute(`data-bs-${ti(t)}`))};class bt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const l=Ue(n)?Ke.getDataAttribute(n,"config"):{};return{...this.constructor.Default,..."object"==typeof l?l:{},...Ue(n)?Ke.getDataAttributes(n):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[f,p]of Object.entries(n)){const g=t[f],y=Ue(g)?"element":null==(l=g)?`${l}`:Object.prototype.toString.call(l).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(p).test(y))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${f}" provided type "${y}" but expected type "${p}".`)}var l}}class Me extends bt{constructor(t,n){super(),(t=it(t))&&(this._element=t,this._config=this._getConfig(n),Le.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Le.remove(this._element,this.constructor.DATA_KEY),v.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,l=!0){vi(t,n,l)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Le.get(it(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,"object"==typeof n?n:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Ai=o=>{let t=o.getAttribute("data-bs-target");if(!t||"#"===t){let n=o.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?n.trim():null}return t?t.split(",").map(n=>Ri(n)).join(","):null},P={find:(o,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,o)),findOne:(o,t=document.documentElement)=>Element.prototype.querySelector.call(t,o),children:(o,t)=>[].concat(...o.children).filter(n=>n.matches(t)),parents(o,t){const n=[];let l=o.parentNode.closest(t);for(;l;)n.push(l),l=l.parentNode.closest(t);return n},prev(o,t){let n=o.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(o,t){let n=o.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(o){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,o).filter(n=>!ze(n)&&lt(n))},getSelectorFromElement(o){const t=Ai(o);return t&&P.findOne(t)?t:null},getElementFromSelector(o){const t=Ai(o);return t?P.findOne(t):null},getMultipleElementsFromSelector(o){const t=Ai(o);return t?P.find(t):[]}},ii=(o,t="hide")=>{const l=o.NAME;v.on(document,`click.dismiss${o.EVENT_KEY}`,`[data-bs-dismiss="${l}"]`,function(f){if(["A","AREA"].includes(this.tagName)&&f.preventDefault(),ze(this))return;const p=P.getElementFromSelector(this)||this.closest(`.${l}`);o.getOrCreateInstance(p)[t]()})},Xi=".bs.alert",Ts=`close${Xi}`,ks=`closed${Xi}`;class yt extends Me{static get NAME(){return"alert"}close(){if(v.trigger(this._element,Ts).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),v.trigger(this._element,ks),this.dispose()}static jQueryInterface(t){return this.each(function(){const n=yt.getOrCreateInstance(this);if("string"==typeof t){if(void 0===n[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);n[t](this)}})}}ii(yt,"close"),Ee(yt);const As='[data-bs-toggle="button"]';class u extends Me{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const n=u.getOrCreateInstance(this);"toggle"===t&&n[t]()})}}v.on(document,"click.bs.button.data-api",As,o=>{o.preventDefault();const t=o.target.closest(As);u.getOrCreateInstance(t).toggle()}),Ee(u);const st=".bs.swipe",Qi=`touchstart${st}`,Es=`touchmove${st}`,Cs=`touchend${st}`,Ss=`pointerdown${st}`,xs=`pointerup${st}`,Ps={endCallback:null,leftCallback:null,rightCallback:null},Os={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ae extends bt{constructor(t,n){super(),this._element=t,t&&ae.isSupported()&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ps}static get DefaultType(){return Os}static get NAME(){return"swipe"}dispose(){v.off(this._element,st)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),we(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const n=t/this._deltaX;this._deltaX=0,n&&we(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(v.on(this._element,Ss,t=>this._start(t)),v.on(this._element,xs,t=>this._end(t)),this._element.classList.add("pointer-event")):(v.on(this._element,Qi,t=>this._start(t)),v.on(this._element,Es,t=>this._move(t)),v.on(this._element,Cs,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const nt=".bs.carousel",Ei=".data-api",ie="next",ct="prev",rt="left",O="right",Ls=`slide${nt}`,si=`slid${nt}`,Ye=`keydown${nt}`,ni=`mouseenter${nt}`,ri=`mouseleave${nt}`,je=`dragstart${nt}`,ut=`load${nt}${Ei}`,Y=`click${nt}${Ei}`,Ht="carousel",He="active",Gi=".active",vt=".carousel-item",ue=Gi+vt,Ci={ArrowLeft:O,ArrowRight:rt},Ji={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},le={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class _t extends Me{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=P.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ht&&this.cycle()}static get Default(){return Ji}static get DefaultType(){return le}static get NAME(){return"carousel"}next(){this._slide(ie)}nextWhenVisible(){!document.hidden&&lt(this._element)&&this.next()}prev(){this._slide(ct)}pause(){this._isSliding&&bi(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?v.one(this._element,si,()=>this.cycle()):this.cycle())}to(t){const n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding)return void v.one(this._element,si,()=>this.to(t));const l=this._getItemIndex(this._getActive());l!==t&&this._slide(t>l?ie:ct,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&v.on(this._element,Ye,t=>this._keydown(t)),"hover"===this._config.pause&&(v.on(this._element,ni,()=>this.pause()),v.on(this._element,ri,()=>this._maybeEnableCycle())),this._config.touch&&ae.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of P.find(".carousel-item img",this._element))v.on(n,je,l=>l.preventDefault());this._swipeHelper=new ae(this._element,{leftCallback:()=>this._slide(this._directionToOrder(rt)),rightCallback:()=>this._slide(this._directionToOrder(O)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const n=Ci[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const n=P.findOne(Gi,this._indicatorsElement);n.classList.remove(He),n.removeAttribute("aria-current");const l=P.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);l&&(l.classList.add(He),l.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;const l=this._getActive(),f=t===ie,p=n||_i(this._getItems(),l,f,this._config.wrap);if(p===l)return;const g=this._getItemIndex(p),y=E=>v.trigger(this._element,E,{relatedTarget:p,direction:this._orderToDirection(t),from:this._getItemIndex(l),to:g});if(y(Ls).defaultPrevented||!l||!p)return;const T=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(g),this._activeElement=p;const S=f?"carousel-item-start":"carousel-item-end",x=f?"carousel-item-next":"carousel-item-prev";p.classList.add(x),l.classList.add(S),p.classList.add(S),this._queueCallback(()=>{p.classList.remove(S,x),p.classList.add(He),l.classList.remove(He,x,S),this._isSliding=!1,y(si)},l,this._isAnimated()),T&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return P.findOne(ue,this._element)}_getItems(){return P.find(vt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Ae()?t===rt?ct:ie:t===rt?ie:ct}_orderToDirection(t){return Ae()?t===ct?rt:O:t===ct?O:rt}static jQueryInterface(t){return this.each(function(){const n=_t.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===n[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);n[t]()}}else n.to(t)})}}v.on(document,Y,"[data-bs-slide], [data-bs-slide-to]",function(o){const t=P.getElementFromSelector(this);if(!t||!t.classList.contains(Ht))return;o.preventDefault();const n=_t.getOrCreateInstance(t),l=this.getAttribute("data-bs-slide-to");return l?(n.to(l),void n._maybeEnableCycle()):"next"===Ke.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())}),v.on(window,ut,()=>{const o=P.find('[data-bs-ride="carousel"]');for(const t of o)_t.getOrCreateInstance(t)}),Ee(_t);const Xe=".bs.collapse",W=`show${Xe}`,oi=`shown${Xe}`,Si=`hide${Xe}`,N=`hidden${Xe}`,Ms=`click${Xe}.data-api`,xi="show",ve="collapse",wt="collapsing",Zi=`:scope .${ve} .${ve}`,ai='[data-bs-toggle="collapse"]',es={parent:null,toggle:!0},ts={parent:"(null|element)",toggle:"boolean"};class Qe extends Me{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const l=P.find(ai);for(const f of l){const p=P.getSelectorFromElement(f),g=P.find(p).filter(y=>y===this._element);null!==p&&g.length&&this._triggerArray.push(f)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return es}static get DefaultType(){return ts}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(f=>f!==this._element).map(f=>Qe.getOrCreateInstance(f,{toggle:!1}))),t.length&&t[0]._isTransitioning||v.trigger(this._element,W).defaultPrevented)return;for(const f of t)f.hide();const n=this._getDimension();this._element.classList.remove(ve),this._element.classList.add(wt),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const l=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(wt),this._element.classList.add(ve,xi),this._element.style[n]="",v.trigger(this._element,oi)},this._element,!0),this._element.style[n]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||v.trigger(this._element,Si).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,this._element.classList.add(wt),this._element.classList.remove(ve,xi);for(const n of this._triggerArray){const l=P.getElementFromSelector(n);l&&!this._isShown(l)&&this._addAriaAndCollapsedClass([n],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(wt),this._element.classList.add(ve),v.trigger(this._element,N)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(xi)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=it(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(ai);for(const n of t){const l=P.getElementFromSelector(n);l&&this._addAriaAndCollapsedClass([n],this._isShown(l))}}_getFirstLevelChildren(t){const n=P.find(Zi,this._config.parent);return P.find(t,this._config.parent).filter(l=>!n.includes(l))}_addAriaAndCollapsedClass(t,n){if(t.length)for(const l of t)l.classList.toggle("collapsed",!n),l.setAttribute("aria-expanded",n)}static jQueryInterface(t){const n={};return"string"==typeof t&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){const l=Qe.getOrCreateInstance(this,n);if("string"==typeof t){if(void 0===l[t])throw new TypeError(`No method named "${t}"`);l[t]()}})}}v.on(document,Ms,ai,function(o){("A"===o.target.tagName||o.delegateTarget&&"A"===o.delegateTarget.tagName)&&o.preventDefault();for(const t of P.getMultipleElementsFromSelector(this))Qe.getOrCreateInstance(t,{toggle:!1}).toggle()}),Ee(Qe);var me="top",fe="bottom",Te="right",_e="left",Ne="auto",Tt=[me,fe,Te,_e],Ge="start",kt="end",At="clippingParents",li="viewport",Et="popper",is="reference",Pi=Tt.reduce(function(o,t){return o.concat([t+"-"+Ge,t+"-"+kt])},[]),Oi=[].concat(Tt,[Ne]).reduce(function(o,t){return o.concat([t,t+"-"+Ge,t+"-"+kt])},[]),Li="beforeRead",Ct="afterRead",St="beforeMain",Ni="afterMain",ss="beforeWrite",Rt="afterWrite",k=[Li,"read",Ct,St,"main",Ni,ss,"write",Rt];function $e(o){return o?(o.nodeName||"").toLowerCase():null}function ke(o){if(null==o)return window;if("[object Window]"!==o.toString()){var t=o.ownerDocument;return t&&t.defaultView||window}return o}function R(o){return o instanceof ke(o).Element||o instanceof Element}function Ce(o){return o instanceof ke(o).HTMLElement||o instanceof HTMLElement}function Ft(o){return typeof ShadowRoot<"u"&&(o instanceof ke(o).ShadowRoot||o instanceof ShadowRoot)}const Re={name:"applyStyles",enabled:!0,phase:"write",fn:function(o){var t=o.state;Object.keys(t.elements).forEach(function(n){var l=t.styles[n]||{},f=t.attributes[n]||{},p=t.elements[n];Ce(p)&&$e(p)&&(Object.assign(p.style,l),Object.keys(f).forEach(function(g){var y=f[g];!1===y?p.removeAttribute(g):p.setAttribute(g,!0===y?"":y)}))})},effect:function(o){var t=o.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(l){var f=t.elements[l],p=t.attributes[l]||{},g=Object.keys(t.styles.hasOwnProperty(l)?t.styles[l]:n[l]).reduce(function(y,T){return y[T]="",y},{});Ce(f)&&$e(f)&&(Object.assign(f.style,g),Object.keys(p).forEach(function(y){f.removeAttribute(y)}))})}},requires:["computeStyles"]};function Oe(o){return o.split("-")[0]}var ht=Math.max,xt=Math.min,Pt=Math.round;function Se(){var o=navigator.userAgentData;return null!=o&&o.brands&&Array.isArray(o.brands)?o.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function qt(){return!/^((?!chrome|android).)*safari/i.test(Se())}function U(o,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var l=o.getBoundingClientRect(),f=1,p=1;t&&Ce(o)&&(f=o.offsetWidth>0&&Pt(l.width)/o.offsetWidth||1,p=o.offsetHeight>0&&Pt(l.height)/o.offsetHeight||1);var g=(R(o)?ke(o):window).visualViewport,y=!qt()&&n,T=(l.left+(y&&g?g.offsetLeft:0))/f,S=(l.top+(y&&g?g.offsetTop:0))/p,x=l.width/f,E=l.height/p;return{width:x,height:E,top:S,right:T+x,bottom:S+E,left:T,x:T,y:S}}function $i(o){var t=U(o),n=o.offsetWidth,l=o.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-l)<=1&&(l=t.height),{x:o.offsetLeft,y:o.offsetTop,width:n,height:l}}function rs(o,t){var n=t.getRootNode&&t.getRootNode();if(o.contains(t))return!0;if(n&&Ft(n)){var l=t;do{if(l&&o.isSameNode(l))return!0;l=l.parentNode||l.host}while(l)}return!1}function Je(o){return ke(o).getComputedStyle(o)}function Ns(o){return["table","td","th"].indexOf($e(o))>=0}function Fe(o){return((R(o)?o.ownerDocument:o.document)||window.document).documentElement}function ci(o){return"html"===$e(o)?o:o.assignedSlot||o.parentNode||(Ft(o)?o.host:null)||Fe(o)}function os(o){return Ce(o)&&"fixed"!==Je(o).position?o.offsetParent:null}function Ze(o){for(var t=ke(o),n=os(o);n&&Ns(n)&&"static"===Je(n).position;)n=os(n);return n&&("html"===$e(n)||"body"===$e(n)&&"static"===Je(n).position)?t:n||function(l){var f=/firefox/i.test(Se());if(/Trident/i.test(Se())&&Ce(l)&&"fixed"===Je(l).position)return null;var p=ci(l);for(Ft(p)&&(p=p.host);Ce(p)&&["html","body"].indexOf($e(p))<0;){var g=Je(p);if("none"!==g.transform||"none"!==g.perspective||"paint"===g.contain||-1!==["transform","perspective"].indexOf(g.willChange)||f&&"filter"===g.willChange||f&&g.filter&&"none"!==g.filter)return p;p=p.parentNode}return null}(o)||t}function Bt(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function Vt(o,t,n){return ht(o,xt(t,n))}function Ot(o){return Object.assign({},{top:0,right:0,bottom:0,left:0},o)}function as(o,t){return t.reduce(function(n,l){return n[l]=o,n},{})}const Wt={name:"arrow",enabled:!0,phase:"main",fn:function(o){var t,te,J,n=o.state,l=o.name,f=o.options,p=n.elements.arrow,g=n.modifiersData.popperOffsets,y=Oe(n.placement),T=Bt(y),S=[_e,Te].indexOf(y)>=0?"height":"width";if(p&&g){var x=(J=n,Ot("number"!=typeof(te="function"==typeof(te=f.padding)?te(Object.assign({},J.rects,{placement:J.placement})):te)?te:as(te,Tt))),E=$i(p),H="y"===T?me:_e,$="y"===T?fe:Te,D=n.rects.reference[S]+n.rects.reference[T]-g[T]-n.rects.popper[S],I=g[T]-n.rects.reference[T],j=Ze(p),ee=j?"y"===T?j.clientHeight||0:j.clientWidth||0:0,F=ee/2-E[S]/2+(D/2-I/2),K=Vt(x[H],F,ee-E[S]-x[$]);n.modifiersData[l]=((t={})[T]=K,t.centerOffset=K-F,t)}},effect:function(o){var t=o.state,n=o.options.element,l=void 0===n?"[data-popper-arrow]":n;null!=l&&("string"!=typeof l||(l=t.elements.popper.querySelector(l)))&&rs(t.elements.popper,l)&&(t.elements.arrow=l)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function dt(o){return o.split("-")[1]}var $s={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ls(o){var t,n=o.popper,l=o.popperRect,f=o.placement,p=o.variation,g=o.offsets,y=o.position,T=o.gpuAcceleration,S=o.adaptive,x=o.roundOffsets,E=o.isFixed,H=g.x,$=void 0===H?0:H,D=g.y,I=void 0===D?0:D,j="function"==typeof x?x({x:$,y:I}):{x:$,y:I};$=j.x,I=j.y;var ee=g.hasOwnProperty("x"),re=g.hasOwnProperty("y"),B=_e,Q=me,F=window;if(S){var K=Ze(n),G="clientHeight",te="clientWidth";K===ke(n)&&"static"!==Je(K=Fe(n)).position&&"absolute"===y&&(G="scrollHeight",te="scrollWidth"),(f===me||(f===_e||f===Te)&&p===kt)&&(Q=fe,I-=(E&&K===F&&F.visualViewport?F.visualViewport.height:K[G])-l.height,I*=T?1:-1),f!==_e&&(f!==me&&f!==fe||p!==kt)||(B=Te,$-=(E&&K===F&&F.visualViewport?F.visualViewport.width:K[te])-l.width,$*=T?1:-1)}var J,tt,xe,Ve,ce,de=Object.assign({position:y},S&&$s),Ie=!0===x?(tt={x:$,y:I},xe=ke(n),Ve=tt.y,{x:Pt(tt.x*(ce=xe.devicePixelRatio||1))/ce||0,y:Pt(Ve*ce)/ce||0}):{x:$,y:I};return $=Ie.x,I=Ie.y,Object.assign({},de,T?((J={})[Q]=re?"0":"",J[B]=ee?"0":"",J.transform=(F.devicePixelRatio||1)<=1?"translate("+$+"px, "+I+"px)":"translate3d("+$+"px, "+I+"px, 0)",J):((t={})[Q]=re?I+"px":"",t[B]=ee?$+"px":"",t.transform="",t))}const ui={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(o){var t=o.state,n=o.options,l=n.gpuAcceleration,f=void 0===l||l,p=n.adaptive,g=void 0===p||p,y=n.roundOffsets,T=void 0===y||y,S={placement:Oe(t.placement),variation:dt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:f,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ls(Object.assign({},S,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:g,roundOffsets:T})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ls(Object.assign({},S,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:T})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var hi={passive:!0};const di={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(o){var t=o.state,n=o.instance,l=o.options,f=l.scroll,p=void 0===f||f,g=l.resize,y=void 0===g||g,T=ke(t.elements.popper),S=[].concat(t.scrollParents.reference,t.scrollParents.popper);return p&&S.forEach(function(x){x.addEventListener("scroll",n.update,hi)}),y&&T.addEventListener("resize",n.update,hi),function(){p&&S.forEach(function(x){x.removeEventListener("scroll",n.update,hi)}),y&&T.removeEventListener("resize",n.update,hi)}},data:{}};var Ii={left:"right",right:"left",bottom:"top",top:"bottom"};function Lt(o){return o.replace(/left|right|bottom|top/g,function(t){return Ii[t]})}var Ut={start:"end",end:"start"};function e(o){return o.replace(/start|end/g,function(t){return Ut[t]})}function s(o){var t=ke(o);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function i(o){return U(Fe(o)).left+s(o).scrollLeft}function r(o){var t=Je(o);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function a(o){return["html","body","#document"].indexOf($e(o))>=0?o.ownerDocument.body:Ce(o)&&r(o)?o:a(ci(o))}function c(o,t){var n;void 0===t&&(t=[]);var l=a(o),f=l===(null==(n=o.ownerDocument)?void 0:n.body),p=ke(l),g=f?[p].concat(p.visualViewport||[],r(l)?l:[]):l,y=t.concat(g);return f?y:y.concat(c(ci(g)))}function h(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function d(o,t,n){return t===li?h(function(l,f){var p=ke(l),g=Fe(l),y=p.visualViewport,T=g.clientWidth,S=g.clientHeight,x=0,E=0;if(y){T=y.width,S=y.height;var H=qt();(H||!H&&"fixed"===f)&&(x=y.offsetLeft,E=y.offsetTop)}return{width:T,height:S,x:x+i(l),y:E}}(o,n)):R(t)?((p=U(l=t,!1,"fixed"===n)).top=p.top+l.clientTop,p.left=p.left+l.clientLeft,p.bottom=p.top+l.clientHeight,p.right=p.left+l.clientWidth,p.width=l.clientWidth,p.height=l.clientHeight,p.x=p.left,p.y=p.top,p):h(function(l){var f,p=Fe(l),g=s(l),y=null==(f=l.ownerDocument)?void 0:f.body,T=ht(p.scrollWidth,p.clientWidth,y?y.scrollWidth:0,y?y.clientWidth:0),S=ht(p.scrollHeight,p.clientHeight,y?y.scrollHeight:0,y?y.clientHeight:0),x=-g.scrollLeft+i(l),E=-g.scrollTop;return"rtl"===Je(y||p).direction&&(x+=ht(p.clientWidth,y?y.clientWidth:0)-T),{width:T,height:S,x,y:E}}(Fe(o)));var l,p}function m(o){var t,n=o.reference,l=o.element,f=o.placement,p=f?Oe(f):null,g=f?dt(f):null,y=n.x+n.width/2-l.width/2,T=n.y+n.height/2-l.height/2;switch(p){case me:t={x:y,y:n.y-l.height};break;case fe:t={x:y,y:n.y+n.height};break;case Te:t={x:n.x+n.width,y:T};break;case _e:t={x:n.x-l.width,y:T};break;default:t={x:n.x,y:n.y}}var S=p?Bt(p):null;if(null!=S){var x="y"===S?"height":"width";switch(g){case Ge:t[S]=t[S]-(n[x]/2-l[x]/2);break;case kt:t[S]=t[S]+(n[x]/2-l[x]/2)}}return t}function b(o,t){void 0===t&&(t={});var xe,Be,Ve,ce,se,Pe,We,ot,at,ye,l=t.placement,f=void 0===l?o.placement:l,p=t.strategy,g=void 0===p?o.strategy:p,y=t.boundary,T=void 0===y?At:y,S=t.rootBoundary,x=void 0===S?li:S,E=t.elementContext,H=void 0===E?Et:E,$=t.altBoundary,D=void 0!==$&&$,I=t.padding,j=void 0===I?0:I,ee=Ot("number"!=typeof j?j:as(j,Tt)),B=o.rects.popper,Q=o.elements[D?H===Et?is:Et:H],F=(xe=R(Q)?Q:Q.contextElement||Fe(o.elements.popper),Ve=x,ce=g,ot="clippingParents"===(Be=T)?(Pe=c(ci(se=xe)),R(We=["absolute","fixed"].indexOf(Je(se).position)>=0&&Ce(se)?Ze(se):se)?Pe.filter(function($t){return R($t)&&rs($t,We)&&"body"!==$e($t)}):[]):[].concat(Be),ye=(at=[].concat(ot,[Ve])).reduce(function(se,Pe){var We=d(xe,Pe,ce);return se.top=ht(We.top,se.top),se.right=xt(We.right,se.right),se.bottom=xt(We.bottom,se.bottom),se.left=ht(We.left,se.left),se},d(xe,at[0],ce)),ye.width=ye.right-ye.left,ye.height=ye.bottom-ye.top,ye.x=ye.left,ye.y=ye.top,ye),K=U(o.elements.reference),G=m({reference:K,element:B,strategy:"absolute",placement:f}),te=h(Object.assign({},B,G)),J=H===Et?te:K,de={top:F.top-J.top+ee.top,bottom:J.bottom-F.bottom+ee.bottom,left:F.left-J.left+ee.left,right:J.right-F.right+ee.right},Ie=o.modifiersData.offset;if(H===Et&&Ie){var tt=Ie[f];Object.keys(de).forEach(function(xe){var Be=[Te,fe].indexOf(xe)>=0?1:-1,Ve=[me,fe].indexOf(xe)>=0?"y":"x";de[xe]+=tt[Ve]*Be})}return de}const M={name:"flip",enabled:!0,phase:"main",fn:function(o){var t=o.state,n=o.options,l=o.name;if(!t.modifiersData[l]._skip){for(var f=n.mainAxis,p=void 0===f||f,g=n.altAxis,y=void 0===g||g,T=n.fallbackPlacements,S=n.padding,x=n.boundary,E=n.rootBoundary,H=n.altBoundary,$=n.flipVariations,D=void 0===$||$,I=n.allowedAutoPlacements,j=t.options.placement,ee=Oe(j),re=T||(ee!==j&&D?function(se){if(Oe(se)===Ne)return[];var Pe=Lt(se);return[e(se),Pe,e(Pe)]}(j):[Lt(j)]),B=[j].concat(re).reduce(function(se,Pe){return se.concat(Oe(Pe)===Ne?function A(o,t){void 0===t&&(t={});var f=t.boundary,p=t.rootBoundary,g=t.padding,y=t.flipVariations,T=t.allowedAutoPlacements,S=void 0===T?Oi:T,x=dt(t.placement),E=x?y?Pi:Pi.filter(function(D){return dt(D)===x}):Tt,H=E.filter(function(D){return S.indexOf(D)>=0});0===H.length&&(H=E);var $=H.reduce(function(D,I){return D[I]=b(o,{placement:I,boundary:f,rootBoundary:p,padding:g})[Oe(I)],D},{});return Object.keys($).sort(function(D,I){return $[D]-$[I]})}(t,{placement:Pe,boundary:x,rootBoundary:E,padding:S,flipVariations:D,allowedAutoPlacements:I}):Pe)},[]),Q=t.rects.reference,F=t.rects.popper,K=new Map,G=!0,te=B[0],J=0;J<B.length;J++){var de=B[J],Ie=Oe(de),tt=dt(de)===Ge,xe=[me,fe].indexOf(Ie)>=0,Be=xe?"width":"height",Ve=b(t,{placement:de,boundary:x,rootBoundary:E,altBoundary:H,padding:S}),ce=xe?tt?Te:_e:tt?fe:me;Q[Be]>F[Be]&&(ce=Lt(ce));var ot=Lt(ce),at=[];if(p&&at.push(Ve[Ie]<=0),y&&at.push(Ve[ce]<=0,Ve[ot]<=0),at.every(function(se){return se})){te=de,G=!1;break}K.set(de,at)}if(G)for(var mi=function(se){var Pe=B.find(function(We){var $t=K.get(We);if($t)return $t.slice(0,se).every(function(ys){return ys})});if(Pe)return te=Pe,"break"},ye=D?3:1;ye>0&&"break"!==mi(ye);ye--);t.placement!==te&&(t.modifiersData[l]._skip=!0,t.placement=te,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function w(o,t,n){return void 0===n&&(n={x:0,y:0}),{top:o.top-t.height-n.y,right:o.right-t.width+n.x,bottom:o.bottom-t.height+n.y,left:o.left-t.width-n.x}}function L(o){return[me,Te,fe,_e].some(function(t){return o[t]>=0})}const z={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(o){var t=o.state,n=o.name,l=t.rects.reference,f=t.rects.popper,p=t.modifiersData.preventOverflow,g=b(t,{elementContext:"reference"}),y=b(t,{altBoundary:!0}),T=w(g,l),S=w(y,f,p),x=L(T),E=L(S);t.modifiersData[n]={referenceClippingOffsets:T,popperEscapeOffsets:S,isReferenceHidden:x,hasPopperEscaped:E},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":x,"data-popper-escaped":E})}},q={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(o){var t=o.state,l=o.name,f=o.options.offset,p=void 0===f?[0,0]:f,g=Oi.reduce(function(x,E){return x[E]=($=t.rects,D=p,I=Oe(H=E),j=[_e,me].indexOf(I)>=0?-1:1,re=(re=(ee="function"==typeof D?D(Object.assign({},$,{placement:H})):D)[0])||0,B=((B=ee[1])||0)*j,[_e,Te].indexOf(I)>=0?{x:B,y:re}:{x:re,y:B}),x;var H,$,D,I,j,ee,re,B},{}),y=g[t.placement],S=y.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=y.x,t.modifiersData.popperOffsets.y+=S),t.modifiersData[l]=g}},ne={name:"popperOffsets",enabled:!0,phase:"read",fn:function(o){var t=o.state;t.modifiersData[o.name]=m({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Z={name:"preventOverflow",enabled:!0,phase:"main",fn:function(o){var Ys,Vn,t=o.state,n=o.options,l=o.name,f=n.mainAxis,p=void 0===f||f,g=n.altAxis,y=void 0!==g&&g,H=n.tether,$=void 0===H||H,D=n.tetherOffset,I=void 0===D?0:D,j=b(t,{boundary:n.boundary,rootBoundary:n.rootBoundary,padding:n.padding,altBoundary:n.altBoundary}),ee=Oe(t.placement),re=dt(t.placement),B=!re,Q=Bt(ee),F="x"===Q?"y":"x",K=t.modifiersData.popperOffsets,G=t.rects.reference,te=t.rects.popper,J="function"==typeof I?I(Object.assign({},t.rects,{placement:t.placement})):I,de="number"==typeof J?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),Ie=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,tt={x:0,y:0};if(K){if(p){var xe,Be="y"===Q?me:_e,Ve="y"===Q?fe:Te,ce="y"===Q?"height":"width",ot=K[Q],at=ot+j[Be],mi=ot-j[Ve],ye=$?-te[ce]/2:0,se=re===Ge?G[ce]:te[ce],Pe=re===Ge?-te[ce]:-G[ce],We=t.elements.arrow,$t=$&&We?$i(We):{width:0,height:0},ys=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Mn=ys[Be],Nn=ys[Ve],vs=Vt(0,G[ce],$t[ce]),mo=B?G[ce]/2-ye-vs-Mn-de.mainAxis:se-vs-Mn-de.mainAxis,go=B?-G[ce]/2+ye+vs+Nn+de.mainAxis:Pe+vs+Nn+de.mainAxis,zs=t.elements.arrow&&Ze(t.elements.arrow),bo=zs?"y"===Q?zs.clientTop||0:zs.clientLeft||0:0,$n=null!=(xe=Ie?.[Q])?xe:0,yo=ot+go-$n,In=Vt($?xt(at,ot+mo-$n-bo):at,ot,$?ht(mi,yo):mi);K[Q]=In,tt[Q]=In-ot}if(y){var Dn,Zt=K[F],_s="y"===F?"height":"width",jn=Zt+j["x"===Q?me:_e],Hn=Zt-j["x"===Q?fe:Te],Ks=-1!==[me,_e].indexOf(ee),Rn=null!=(Dn=Ie?.[F])?Dn:0,Fn=Ks?jn:Zt-G[_s]-te[_s]-Rn+de.altAxis,qn=Ks?Zt+G[_s]+te[_s]-Rn-de.altAxis:Hn,Bn=$&&Ks?(Vn=Vt(Fn,Zt,Ys=qn))>Ys?Ys:Vn:Vt($?Fn:jn,Zt,$?qn:Hn);K[F]=Bn,tt[F]=Bn-Zt}t.modifiersData[l]=tt}},requiresIfExists:["offset"]};function C(o,t,n){void 0===n&&(n=!1);var l,f,E,H,$,D,p=Ce(t),g=Ce(t)&&(H=(E=t).getBoundingClientRect(),$=Pt(H.width)/E.offsetWidth||1,D=Pt(H.height)/E.offsetHeight||1,1!==$||1!==D),y=Fe(t),T=U(o,g,n),S={scrollLeft:0,scrollTop:0},x={x:0,y:0};return(p||!p&&!n)&&(("body"!==$e(t)||r(y))&&(S=(l=t)!==ke(l)&&Ce(l)?{scrollLeft:(f=l).scrollLeft,scrollTop:f.scrollTop}:s(l)),Ce(t)?((x=U(t,!0)).x+=t.clientLeft,x.y+=t.clientTop):y&&(x.x=i(y))),{x:T.left+S.scrollLeft-x.x,y:T.top+S.scrollTop-x.y,width:T.width,height:T.height}}function V(o){var t=new Map,n=new Set,l=[];function f(p){n.add(p.name),[].concat(p.requires||[],p.requiresIfExists||[]).forEach(function(g){if(!n.has(g)){var y=t.get(g);y&&f(y)}}),l.push(p)}return o.forEach(function(p){t.set(p.name,p)}),o.forEach(function(p){n.has(p.name)||f(p)}),l}var oe={placement:"bottom",modifiers:[],strategy:"absolute"};function be(){for(var o=arguments.length,t=new Array(o),n=0;n<o;n++)t[n]=arguments[n];return!t.some(function(l){return!(l&&"function"==typeof l.getBoundingClientRect)})}function pe(o){void 0===o&&(o={});var n=o.defaultModifiers,l=void 0===n?[]:n,f=o.defaultOptions,p=void 0===f?oe:f;return function(g,y,T){void 0===T&&(T=p);var S,x,E={placement:"bottom",orderedModifiers:[],options:Object.assign({},oe,p),modifiersData:{},elements:{reference:g,popper:y},attributes:{},styles:{}},H=[],$=!1,D={state:E,setOptions:function(j){var ee="function"==typeof j?j(E.options):j;I(),E.options=Object.assign({},p,E.options,ee),E.scrollParents={reference:R(g)?c(g):g.contextElement?c(g.contextElement):[],popper:c(y)};var re,B,F,K,Q=(re=[].concat(l,E.options.modifiers),B=re.reduce(function(F,K){var G=F[K.name];return F[K.name]=G?Object.assign({},G,K,{options:Object.assign({},G.options,K.options),data:Object.assign({},G.data,K.data)}):K,F},{}),F=Object.keys(B).map(function(F){return B[F]}),K=V(F),k.reduce(function(G,te){return G.concat(K.filter(function(J){return J.phase===te}))},[]));return E.orderedModifiers=Q.filter(function(F){return F.enabled}),E.orderedModifiers.forEach(function(F){var G=F.options,J=F.effect;if("function"==typeof J){var de=J({state:E,name:F.name,instance:D,options:void 0===G?{}:G});H.push(de||function(){})}}),D.update()},forceUpdate:function(){if(!$){var j=E.elements,ee=j.reference,re=j.popper;if(be(ee,re)){E.rects={reference:C(ee,Ze(re),"fixed"===E.options.strategy),popper:$i(re)},E.reset=!1,E.placement=E.options.placement,E.orderedModifiers.forEach(function(J){return E.modifiersData[J.name]=Object.assign({},J.data)});for(var B=0;B<E.orderedModifiers.length;B++)if(!0!==E.reset){var Q=E.orderedModifiers[B],F=Q.fn,K=Q.options;"function"==typeof F&&(E=F({state:E,options:void 0===K?{}:K,name:Q.name,instance:D})||E)}else E.reset=!1,B=-1}}},update:(S=function(){return new Promise(function(j){D.forceUpdate(),j(E)})},function(){return x||(x=new Promise(function(j){Promise.resolve().then(function(){x=void 0,j(S())})})),x}),destroy:function(){I(),$=!0}};if(!be(g,y))return D;function I(){H.forEach(function(j){return j()}),H=[]}return D.setOptions(T).then(function(j){!$&&T.onFirstUpdate&&T.onFirstUpdate(j)}),D}}var X=pe(),cs=pe({defaultModifiers:[di,ne,ui,Re]}),Mt=pe({defaultModifiers:[di,ne,ui,Re,q,M,Z,Wt,z]});const us=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Ni,afterRead:Ct,afterWrite:Rt,applyStyles:Re,arrow:Wt,auto:Ne,basePlacements:Tt,beforeMain:St,beforeRead:Li,beforeWrite:ss,bottom:fe,clippingParents:At,computeStyles:ui,createPopper:Mt,createPopperBase:X,createPopperLite:cs,detectOverflow:b,end:kt,eventListeners:di,flip:M,hide:z,left:_e,main:"main",modifierPhases:k,offset:q,placements:Oi,popper:Et,popperGenerator:pe,popperOffsets:ne,preventOverflow:Z,read:"read",reference:is,right:Te,start:Ge,top:me,variationPlacements:Pi,viewport:li,write:"write"},Symbol.toStringTag,{value:"Module"})),Xs="dropdown",zt=".bs.dropdown",Is=".data-api",Wn="ArrowUp",Qs="ArrowDown",Un=`hide${zt}`,zn=`hidden${zt}`,Kn=`show${zt}`,Yn=`shown${zt}`,Gs=`click${zt}${Is}`,Js=`keydown${zt}${Is}`,Xn=`keyup${zt}${Is}`,fi="show",Kt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Qn=`${Kt}.${fi}`,hs=".dropdown-menu",Gn=Ae()?"top-end":"top-start",Jn=Ae()?"top-start":"top-end",Zn=Ae()?"bottom-end":"bottom-start",er=Ae()?"bottom-start":"bottom-end",tr=Ae()?"left-start":"right-start",ir=Ae()?"right-start":"left-start",sr={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},nr={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class et extends Me{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=P.next(this._element,hs)[0]||P.prev(this._element,hs)[0]||P.findOne(hs,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return sr}static get DefaultType(){return nr}static get NAME(){return Xs}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ze(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!v.trigger(this._element,Kn,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const n of[].concat(...document.body.children))v.on(n,"mouseover",ei);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(fi),this._element.classList.add(fi),v.trigger(this._element,Yn,t)}}hide(){!ze(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!v.trigger(this._element,Un,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))v.off(n,"mouseover",ei);this._popper&&this._popper.destroy(),this._menu.classList.remove(fi),this._element.classList.remove(fi),this._element.setAttribute("aria-expanded","false"),Ke.removeDataAttribute(this._menu,"popper"),v.trigger(this._element,zn,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!Ue(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${Xs.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===us)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:Ue(this._config.reference)?t=it(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=Mt(t,this._menu,n)}_isShown(){return this._menu.classList.contains(fi)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return tr;if(t.classList.contains("dropstart"))return ir;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const n="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?n?Jn:Gn:n?er:Zn}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(n=>Number.parseInt(n,10)):"function"==typeof t?n=>t(n,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Ke.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...we(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:n}){const l=P.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(f=>lt(f));l.length&&_i(l,n,t===Qs,!l.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){const n=et.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const n=P.find(Qn);for(const l of n){const f=et.getInstance(l);if(!f||!1===f._config.autoClose)continue;const p=t.composedPath(),g=p.includes(f._menu);if(p.includes(f._element)||"inside"===f._config.autoClose&&!g||"outside"===f._config.autoClose&&g||f._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const y={relatedTarget:f._element};"click"===t.type&&(y.clickEvent=t),f._completeHide(y)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),l="Escape"===t.key,f=[Wn,Qs].includes(t.key);if(!f&&!l||n&&!l)return;t.preventDefault();const p=this.matches(Kt)?this:P.prev(this,Kt)[0]||P.next(this,Kt)[0]||P.findOne(Kt,t.delegateTarget.parentNode),g=et.getOrCreateInstance(p);if(f)return t.stopPropagation(),g.show(),void g._selectMenuItem(t);g._isShown()&&(t.stopPropagation(),g.hide(),p.focus())}}v.on(document,Js,Kt,et.dataApiKeydownHandler),v.on(document,Js,hs,et.dataApiKeydownHandler),v.on(document,Gs,et.clearMenus),v.on(document,Xn,et.clearMenus),v.on(document,Gs,Kt,function(o){o.preventDefault(),et.getOrCreateInstance(this).toggle()}),Ee(et);const Zs="backdrop",tn=`mousedown.bs.${Zs}`,rr={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},or={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class sn extends bt{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return rr}static get DefaultType(){return or}static get NAME(){return Zs}show(t){if(!this._config.isVisible)return void we(t);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{we(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),we(t)})):we(t)}dispose(){this._isAppended&&(v.off(this._element,tn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=it(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),v.on(t,tn,()=>{we(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){vi(t,this._getElement(),this._config.isAnimated)}}const ds=".bs.focustrap",ar=`focusin${ds}`,lr=`keydown.tab${ds}`,nn="backward",cr={autofocus:!0,trapElement:null},ur={autofocus:"boolean",trapElement:"element"};class rn extends bt{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return cr}static get DefaultType(){return ur}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),v.off(document,ds),v.on(document,ar,t=>this._handleFocusin(t)),v.on(document,lr,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,v.off(document,ds))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const l=P.focusableChildren(n);0===l.length?n.focus():this._lastTabNavDirection===nn?l[l.length-1].focus():l[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?nn:"forward")}}const on=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",an=".sticky-top",fs="padding-right",ln="margin-right";class Ds{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,fs,n=>n+t),this._setElementAttributes(on,fs,n=>n+t),this._setElementAttributes(an,ln,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,fs),this._resetElementAttributes(on,fs),this._resetElementAttributes(an,ln)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,l){const f=this.getWidth();this._applyManipulationCallback(t,p=>{if(p!==this._element&&window.innerWidth>p.clientWidth+f)return;this._saveInitialAttribute(p,n);const g=window.getComputedStyle(p).getPropertyValue(n);p.style.setProperty(n,`${l(Number.parseFloat(g))}px`)})}_saveInitialAttribute(t,n){const l=t.style.getPropertyValue(n);l&&Ke.setDataAttribute(t,n,l)}_resetElementAttributes(t,n){this._applyManipulationCallback(t,l=>{const f=Ke.getDataAttribute(l,n);null!==f?(Ke.removeDataAttribute(l,n),l.style.setProperty(n,f)):l.style.removeProperty(n)})}_applyManipulationCallback(t,n){if(Ue(t))n(t);else for(const l of P.find(t,this._element))n(l)}}const qe=".bs.modal",hr=`hide${qe}`,dr=`hidePrevented${qe}`,cn=`hidden${qe}`,un=`show${qe}`,fr=`shown${qe}`,pr=`resize${qe}`,mr=`click.dismiss${qe}`,gr=`mousedown.dismiss${qe}`,br=`keydown.dismiss${qe}`,yr=`click${qe}.data-api`,hn="modal-open",js="modal-static",vr={backdrop:!0,focus:!0,keyboard:!0},_r={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Yt extends Me{constructor(t,n){super(t,n),this._dialog=P.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ds,this._addEventListeners()}static get Default(){return vr}static get DefaultType(){return _r}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||v.trigger(this._element,un,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(hn),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){this._isShown&&!this._isTransitioning&&(v.trigger(this._element,hr).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){v.off(window,qe),v.off(this._dialog,qe),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new sn({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new rn({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=P.findOne(".modal-body",this._dialog);n&&(n.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,v.trigger(this._element,fr,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){v.on(this._element,br,t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),v.on(window,pr,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),v.on(this._element,gr,t=>{v.one(this._element,mr,n=>{this._element===t.target&&this._element===n.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(hn),this._resetAdjustments(),this._scrollBar.reset(),v.trigger(this._element,cn)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(v.trigger(this._element,dr).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;"hidden"===n||this._element.classList.contains(js)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(js),this._queueCallback(()=>{this._element.classList.remove(js),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),l=n>0;if(l&&!t){const f=Ae()?"paddingLeft":"paddingRight";this._element.style[f]=`${n}px`}if(!l&&t){const f=Ae()?"paddingRight":"paddingLeft";this._element.style[f]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const l=Yt.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===l[t])throw new TypeError(`No method named "${t}"`);l[t](n)}})}}v.on(document,yr,'[data-bs-toggle="modal"]',function(o){const t=P.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&o.preventDefault(),v.one(t,un,l=>{l.defaultPrevented||v.one(t,cn,()=>{lt(this)&&this.focus()})});const n=P.findOne(".modal.show");n&&Yt.getInstance(n).hide(),Yt.getOrCreateInstance(t).toggle(this)}),ii(Yt),Ee(Yt);const ft=".bs.offcanvas",fn=".data-api",wr=`load${ft}${fn}`,mn="showing",bn=".offcanvas.show",Tr=`show${ft}`,kr=`shown${ft}`,Ar=`hide${ft}`,yn=`hidePrevented${ft}`,vn=`hidden${ft}`,Er=`resize${ft}`,Cr=`click${ft}${fn}`,Sr=`keydown.dismiss${ft}`,xr={backdrop:!0,keyboard:!0,scroll:!1},Pr={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class pt extends Me{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return xr}static get DefaultType(){return Pr}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||v.trigger(this._element,Tr,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Ds).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(mn),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(mn),v.trigger(this._element,kr,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&(v.trigger(this._element,Ar).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Ds).reset(),v.trigger(this._element,vn)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=!!this._config.backdrop;return new sn({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():v.trigger(this._element,yn)}:null})}_initializeFocusTrap(){return new rn({trapElement:this._element})}_addEventListeners(){v.on(this._element,Sr,t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():v.trigger(this._element,yn))})}static jQueryInterface(t){return this.each(function(){const n=pt.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);n[t](this)}})}}v.on(document,Cr,'[data-bs-toggle="offcanvas"]',function(o){const t=P.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),ze(this))return;v.one(t,vn,()=>{lt(this)&&this.focus()});const n=P.findOne(bn);n&&n!==t&&pt.getInstance(n).hide(),pt.getOrCreateInstance(t).toggle(this)}),v.on(window,wr,()=>{for(const o of P.find(bn))pt.getOrCreateInstance(o).show()}),v.on(window,Er,()=>{for(const o of P.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(o).position&&pt.getOrCreateInstance(o).hide()}),ii(pt),Ee(pt);const _n={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Or=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Lr=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Mr=(o,t)=>{const n=o.nodeName.toLowerCase();return t.includes(n)?!Or.has(n)||!!Lr.test(o.nodeValue):t.filter(l=>l instanceof RegExp).some(l=>l.test(n))},Nr={allowList:_n,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},$r={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ir={entry:"(string|element|function|null)",selector:"(string|element)"};class Dr extends bt{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Nr}static get DefaultType(){return $r}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[f,p]of Object.entries(this._config.content))this._setContent(t,p,f);const n=t.children[0],l=this._resolvePossibleFunction(this._config.extraClass);return l&&n.classList.add(...l.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[n,l]of Object.entries(t))super._typeCheckConfig({selector:n,entry:l},Ir)}_setContent(t,n,l){const f=P.findOne(l,t);f&&((n=this._resolvePossibleFunction(n))?Ue(n)?this._putElementInTemplate(it(n),f):this._config.html?f.innerHTML=this._maybeSanitize(n):f.textContent=n:f.remove())}_maybeSanitize(t){return this._config.sanitize?function(n,l,f){if(!n.length)return n;if(f&&"function"==typeof f)return f(n);const p=(new window.DOMParser).parseFromString(n,"text/html"),g=[].concat(...p.body.querySelectorAll("*"));for(const y of g){const T=y.nodeName.toLowerCase();if(!Object.keys(l).includes(T)){y.remove();continue}const S=[].concat(...y.attributes),x=[].concat(l["*"]||[],l[T]||[]);for(const E of S)Mr(E,x)||y.removeAttribute(E.nodeName)}return p.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return we(t,[this])}_putElementInTemplate(t,n){if(this._config.html)return n.innerHTML="",void n.append(t);n.textContent=t.textContent}}const jr=new Set(["sanitize","allowList","sanitizeFn"]),Hs="fade",ps="show",Tn="hide.bs.modal",Di="hover",Rs="focus",Hr={AUTO:"auto",TOP:"top",RIGHT:Ae()?"left":"right",BOTTOM:"bottom",LEFT:Ae()?"right":"left"},Rr={allowList:_n,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Fr={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Xt extends Me{constructor(t,n){if(void 0===us)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Rr}static get DefaultType(){return Fr}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),v.off(this._element.closest(".modal"),Tn,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=v.trigger(this._element,this.constructor.eventName("show")),n=(yi(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!n)return;this._disposePopper();const l=this._getTipElement();this._element.setAttribute("aria-describedby",l.getAttribute("id"));const{container:f}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(f.append(l),v.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(l),l.classList.add(ps),"ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))v.on(p,"mouseover",ei);this._queueCallback(()=>{v.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!v.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ps),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))v.off(t,"mouseover",ei);this._activeTrigger.click=!1,this._activeTrigger[Rs]=!1,this._activeTrigger[Di]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),v.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(Hs,ps),n.classList.add(`bs-${this.constructor.NAME}-auto`);const l=(f=>{do{f+=Math.floor(1e6*Math.random())}while(document.getElementById(f));return f})(this.constructor.NAME).toString();return n.setAttribute("id",l),this._isAnimated()&&n.classList.add(Hs),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Dr({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Hs)}_isShown(){return this.tip&&this.tip.classList.contains(ps)}_createPopper(t){const n=we(this._config.placement,[this,t,this._element]),l=Hr[n.toUpperCase()];return Mt(this._element,t,this._getPopperConfig(l))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(n=>Number.parseInt(n,10)):"function"==typeof t?n=>t(n,this._element):t}_resolvePossibleFunction(t){return we(t,[this._element])}_getPopperConfig(t){const n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:l=>{this._getTipElement().setAttribute("data-popper-placement",l.state.placement)}}]};return{...n,...we(this._config.popperConfig,[n])}}_setListeners(){const t=this._config.trigger.split(" ");for(const n of t)if("click"===n)v.on(this._element,this.constructor.eventName("click"),this._config.selector,l=>{this._initializeOnDelegatedTarget(l).toggle()});else if("manual"!==n){const l=this.constructor.eventName(n===Di?"mouseenter":"focusin"),f=this.constructor.eventName(n===Di?"mouseleave":"focusout");v.on(this._element,l,this._config.selector,p=>{const g=this._initializeOnDelegatedTarget(p);g._activeTrigger["focusin"===p.type?Rs:Di]=!0,g._enter()}),v.on(this._element,f,this._config.selector,p=>{const g=this._initializeOnDelegatedTarget(p);g._activeTrigger["focusout"===p.type?Rs:Di]=g._element.contains(p.relatedTarget),g._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},v.on(this._element.closest(".modal"),Tn,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const n=Ke.getDataAttributes(this._element);for(const l of Object.keys(n))jr.has(l)&&delete n[l];return t={...n,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:it(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[n,l]of Object.entries(this._config))this.constructor.Default[n]!==l&&(t[n]=l);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const n=Xt.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}})}}Ee(Xt);const qr={...Xt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Br={...Xt.DefaultType,content:"(null|string|element|function)"};class ms extends Xt{static get Default(){return qr}static get DefaultType(){return Br}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const n=ms.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}})}}Ee(ms);const Fs=".bs.scrollspy",Vr=`activate${Fs}`,kn=`click${Fs}`,Wr=`load${Fs}.data-api`,pi="active",qs="[href]",An=".nav-link",Ur=`${An}, .nav-item > ${An}, .list-group-item`,zr={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Kr={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ji extends Me{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return zr}static get DefaultType(){return Kr}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=it(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(v.off(this._config.target,kn),v.on(this._config.target,kn,qs,t=>{const n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();const l=this._rootElement||window,f=n.offsetTop-this._element.offsetTop;if(l.scrollTo)return void l.scrollTo({top:f,behavior:"smooth"});l.scrollTop=f}}))}_getNewObserver(){return new IntersectionObserver(n=>this._observerCallback(n),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){const n=g=>this._targetLinks.get(`#${g.target.id}`),l=g=>{this._previousScrollData.visibleEntryTop=g.target.offsetTop,this._process(n(g))},f=(this._rootElement||document.documentElement).scrollTop,p=f>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=f;for(const g of t){if(!g.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(g));continue}const y=g.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(p&&y){if(l(g),!f)return}else p||y||l(g)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=P.find(qs,this._config.target);for(const n of t){if(!n.hash||ze(n))continue;const l=P.findOne(decodeURI(n.hash),this._element);lt(l)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,l))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(pi),this._activateParents(t),v.trigger(this._element,Vr,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))P.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(pi);else for(const n of P.parents(t,".nav, .list-group"))for(const l of P.prev(n,Ur))l.classList.add(pi)}_clearActiveClass(t){t.classList.remove(pi);const n=P.find(`${qs}.${pi}`,t);for(const l of n)l.classList.remove(pi)}static jQueryInterface(t){return this.each(function(){const n=ji.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);n[t]()}})}}v.on(window,Wr,()=>{for(const o of P.find('[data-bs-spy="scroll"]'))ji.getOrCreateInstance(o)}),Ee(ji);const Qt=".bs.tab",Yr=`hide${Qt}`,Xr=`hidden${Qt}`,Qr=`show${Qt}`,Gr=`shown${Qt}`,Jr=`click${Qt}`,Zr=`keydown${Qt}`,eo=`load${Qt}`,to="ArrowLeft",En="ArrowRight",io="ArrowUp",Cn="ArrowDown",Bs="Home",Sn="End",Gt="active",Vs="show",Pn=".dropdown-toggle",Ws=`:not(${Pn})`,On='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Us=`.nav-link${Ws}, .list-group-item${Ws}, [role="tab"]${Ws}, ${On}`,so=`.${Gt}[data-bs-toggle="tab"], .${Gt}[data-bs-toggle="pill"], .${Gt}[data-bs-toggle="list"]`;class Jt extends Me{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),v.on(this._element,Zr,n=>this._keydown(n)))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const n=this._getActiveElem(),l=n?v.trigger(n,Yr,{relatedTarget:t}):null;v.trigger(t,Qr,{relatedTarget:n}).defaultPrevented||l&&l.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){t&&(t.classList.add(Gt),this._activate(P.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),v.trigger(t,Gr,{relatedTarget:n})):t.classList.add(Vs)},t,t.classList.contains("fade")))}_deactivate(t,n){t&&(t.classList.remove(Gt),t.blur(),this._deactivate(P.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),v.trigger(t,Xr,{relatedTarget:n})):t.classList.remove(Vs)},t,t.classList.contains("fade")))}_keydown(t){if(![to,En,io,Cn,Bs,Sn].includes(t.key))return;t.stopPropagation(),t.preventDefault();const n=this._getChildren().filter(f=>!ze(f));let l;if([Bs,Sn].includes(t.key))l=n[t.key===Bs?0:n.length-1];else{const f=[En,Cn].includes(t.key);l=_i(n,t.target,f,!0)}l&&(l.focus({preventScroll:!0}),Jt.getOrCreateInstance(l).show())}_getChildren(){return P.find(Us,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(const l of n)this._setInitialAttributesOnChild(l)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const n=this._elemIsActive(t),l=this._getOuterElement(t);t.setAttribute("aria-selected",n),l!==t&&this._setAttributeIfNotExists(l,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const n=P.getElementFromSelector(t);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){const l=this._getOuterElement(t);if(!l.classList.contains("dropdown"))return;const f=(p,g)=>{const y=P.findOne(p,l);y&&y.classList.toggle(g,n)};f(Pn,Gt),f(".dropdown-menu",Vs),l.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,l){t.hasAttribute(n)||t.setAttribute(n,l)}_elemIsActive(t){return t.classList.contains(Gt)}_getInnerElement(t){return t.matches(Us)?t:P.findOne(Us,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const n=Jt.getOrCreateInstance(this);if("string"==typeof t){if(void 0===n[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);n[t]()}})}}v.on(document,Jr,On,function(o){["A","AREA"].includes(this.tagName)&&o.preventDefault(),ze(this)||Jt.getOrCreateInstance(this).show()}),v.on(window,eo,()=>{for(const o of P.find(so))Jt.getOrCreateInstance(o)}),Ee(Jt);const Nt=".bs.toast",no=`mouseover${Nt}`,ro=`mouseout${Nt}`,oo=`focusin${Nt}`,ao=`focusout${Nt}`,lo=`hide${Nt}`,co=`hidden${Nt}`,uo=`show${Nt}`,ho=`shown${Nt}`,gs="show",bs="showing",fo={animation:"boolean",autohide:"boolean",delay:"number"},po={animation:!0,autohide:!0,delay:5e3};class Hi extends Me{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return po}static get DefaultType(){return fo}static get NAME(){return"toast"}show(){v.trigger(this._element,uo).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(gs,bs),this._queueCallback(()=>{this._element.classList.remove(bs),v.trigger(this._element,ho),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(v.trigger(this._element,lo).defaultPrevented||(this._element.classList.add(bs),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(bs,gs),v.trigger(this._element,co)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(gs),super.dispose()}isShown(){return this._element.classList.contains(gs)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=n;break;case"focusin":case"focusout":this._hasKeyboardInteraction=n}if(n)return void this._clearTimeout();const l=t.relatedTarget;this._element===l||this._element.contains(l)||this._maybeScheduleHide()}_setListeners(){v.on(this._element,no,t=>this._onInteraction(t,!0)),v.on(this._element,ro,t=>this._onInteraction(t,!1)),v.on(this._element,oo,t=>this._onInteraction(t,!0)),v.on(this._element,ao,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const n=Hi.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t](this)}})}}return ii(Hi),Ee(Hi),{Alert:yt,Button:u,Carousel:_t,Collapse:Qe,Dropdown:et,Modal:Yt,Offcanvas:pt,Popover:ms,ScrollSpy:ji,Tab:Jt,Toast:Hi,Tooltip:Xt}}),"object"==typeof navigator&&function(_,Le){"object"==typeof exports&&typeof module<"u"?module.exports=Le():"function"==typeof define&&define.amd?define("Plyr",Le):(_=typeof globalThis<"u"?globalThis:_||self).Plyr=Le()}(this,function(){"use strict";function _(e,s,i){return s=function gi(e){var s=function Le(e,s){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,s||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(e,"string");return"symbol"==typeof s?s:String(s)}(s),s in e?Object.defineProperty(e,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[s]=i,e}function bi(e,s){for(var i=0;i<s.length;i++){var r=s[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,s,i){return s in e?Object.defineProperty(e,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[s]=i,e}function lt(e,s){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);s&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,r)}return i}function ze(e){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{};s%2?lt(Object(i),!0).forEach(function(r){it(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):lt(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}var yi={addCSS:!0,thumbWidth:15,watch:!0},mt=function(e){return null!=e?e.constructor:null},Dt=function(e,s){return!!(e&&s&&e instanceof s)},vi=function(e){return mt(e)===String},Fi=function(e){return Array.isArray(e)},qi=function(e){return Dt(e,NodeList)},ge_string=vi,ge_array=Fi,ge_nodeList=qi,ge_element=function(e){return Dt(e,Element)},ge_event=function(e){return Dt(e,Event)},ge_empty=function(e){return function(e){return null==e}(e)||(vi(e)||Fi(e)||qi(e))&&!e.length||function(e){return mt(e)===Object}(e)&&!Object.keys(e).length};var zi=function(){function e(s,i){(function Ri(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),ge_element(s)?this.element=s:ge_string(s)&&(this.element=document.querySelector(s)),ge_element(this.element)&&ge_empty(this.element.rangeTouch)&&(this.config=ze({},yi,{},i),this.init())}return function Ue(e,s,i){s&&bi(e.prototype,s),i&&bi(e,i)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(s){var i=this,r=s?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(a){i.element[r](a,function(c){return i.set(c)},!1)})}},{key:"get",value:function(s){if(!e.enabled||!ge_event(s))return null;var i,r=s.target,a=s.changedTouches[0],c=parseFloat(r.getAttribute("min"))||0,h=parseFloat(r.getAttribute("max"))||100,d=parseFloat(r.getAttribute("step"))||1,m=r.getBoundingClientRect(),b=100/m.width*(this.config.thumbWidth/2)/100;return 0>(i=100/m.width*(a.clientX-m.left))?i=0:100<i&&(i=100),50>i?i-=(100-2*i)*b:50<i&&(i+=2*(i-50)*b),c+function Ui(e,s){if(1>s){var i=function Wi(e){var s="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return s?Math.max(0,(s[1]?s[1].length:0)-(s[2]?+s[2]:0)):0}(s);return parseFloat(e.toFixed(i))}return Math.round(e/s)*s}(i/100*(h-c),d)}},{key:"set",value:function(s){e.enabled&&ge_event(s)&&!s.target.disabled&&(s.preventDefault(),s.target.value=this.get(s),function It(e,s){if(e&&s){var i=new Event(s,{bubbles:!0});e.dispatchEvent(i)}}(s.target,"touchend"===s.type?"change":"input"))}}],[{key:"setup",value:function(s){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=null;if(ge_empty(s)||ge_string(s)?r=Array.from(document.querySelectorAll(ge_string(s)?s:'input[type="range"]')):ge_element(s)?r=[s]:ge_nodeList(s)?r=Array.from(s):ge_array(s)&&(r=s.filter(ge_element)),ge_empty(r))return null;var a=ze({},yi,{},i);if(ge_string(s)&&a.watch){var c=new MutationObserver(function(h){Array.from(h).forEach(function(d){Array.from(d.addedNodes).forEach(function(m){ge_element(m)&&function ei(e,s){return function(){return Array.from(document.querySelectorAll(s)).includes(this)}.call(e,s)}(m,s)&&new e(m,a)})})});c.observe(document.body,{childList:!0,subtree:!0})}return r.map(function(h){return new e(h,i)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();const gt=e=>null!==e&&typeof e<"u"?e.constructor:null,De=(e,s)=>!!(e&&s&&e instanceof s),jt=e=>null===e||typeof e>"u",Ki=e=>gt(e)===Object,v=e=>gt(e)===String,ki=e=>"function"==typeof e,ti=e=>Array.isArray(e),bt=e=>De(e,NodeList),yt=e=>jt(e)||(v(e)||ti(e)||bt(e))&&!e.length||Ki(e)&&!Object.keys(e).length;var u={nullOrUndefined:jt,object:Ki,number:e=>gt(e)===Number&&!Number.isNaN(e),string:v,boolean:e=>gt(e)===Boolean,function:ki,array:ti,weakMap:e=>De(e,WeakMap),nodeList:bt,element:e=>null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument,textNode:e=>gt(e)===Text,event:e=>De(e,Event),keyboardEvent:e=>De(e,KeyboardEvent),cue:e=>De(e,window.TextTrackCue)||De(e,window.VTTCue),track:e=>De(e,TextTrack)||!jt(e)&&v(e.kind),promise:e=>De(e,Promise)&&ki(e.then),url:e=>{if(De(e,window.URL))return!0;if(!v(e))return!1;let s=e;(!e.startsWith("http://")||!e.startsWith("https://"))&&(s=`http://${e}`);try{return!yt(new URL(s).hostname)}catch{return!1}},empty:yt};const st=(()=>{const e=document.createElement("span"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(s).find(r=>void 0!==e.style[r]);return!!u.string(i)&&s[i]})();function Qi(e,s){setTimeout(()=>{try{e.hidden=!0,e.hidden=!1}catch{}},s)}var ae={isIE:!!window.document.documentMode,isEdge:/Edge/g.test(navigator.userAgent),isWebKit:"WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),isIPhone:/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,isIPadOS:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,isIos:/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1};function Ei(e,s){return s.split(".").reduce((i,r)=>i&&i[r],e)}function ie(e={},...s){if(!s.length)return e;const i=s.shift();return u.object(i)?(Object.keys(i).forEach(r=>{u.object(i[r])?(Object.keys(e).includes(r)||Object.assign(e,{[r]:{}}),ie(e[r],i[r])):Object.assign(e,{[r]:i[r]})}),ie(e,...s)):e}function ct(e,s){Array.from(e.length?e:[e]).reverse().forEach((r,a)=>{const c=a>0?s.cloneNode(!0):s,h=r.parentNode,d=r.nextSibling;c.appendChild(r),d?h.insertBefore(c,d):h.appendChild(c)})}function rt(e,s){!u.element(e)||u.empty(s)||Object.entries(s).filter(([,i])=>!u.nullOrUndefined(i)).forEach(([i,r])=>e.setAttribute(i,r))}function O(e,s,i){const r=document.createElement(e);return u.object(s)&&rt(r,s),u.string(i)&&(r.innerText=i),r}function si(e,s,i,r){u.element(s)&&s.appendChild(O(e,i,r))}function Ye(e){u.nodeList(e)||u.array(e)?Array.from(e).forEach(Ye):!u.element(e)||!u.element(e.parentNode)||e.parentNode.removeChild(e)}function ni(e){if(!u.element(e))return;let{length:s}=e.childNodes;for(;s>0;)e.removeChild(e.lastChild),s-=1}function ri(e,s){return u.element(s)&&u.element(s.parentNode)&&u.element(e)?(s.parentNode.replaceChild(e,s),e):null}function je(e,s){if(!u.string(e)||u.empty(e))return{};const i={},r=ie({},s);return e.split(",").forEach(a=>{const c=a.trim(),h=c.replace(".",""),m=c.replace(/[[\]]/g,"").split("="),[b]=m,A=m.length>1?m[1].replace(/["']/g,""):"";switch(c.charAt(0)){case".":i.class=u.string(r.class)?`${r.class} ${h}`:h;break;case"#":i.id=c.replace("#","");break;case"[":i[b]=A}}),ie(r,i)}function ut(e,s){if(!u.element(e))return;let i=s;u.boolean(i)||(i=!e.hidden),e.hidden=i}function Y(e,s,i){if(u.nodeList(e))return Array.from(e).map(r=>Y(r,s,i));if(u.element(e)){let r="toggle";return typeof i<"u"&&(r=i?"add":"remove"),e.classList[r](s),e.classList.contains(s)}return!1}function Ht(e,s){return u.element(e)&&e.classList.contains(s)}function He(e,s){const{prototype:i}=Element;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function r(){return Array.from(document.querySelectorAll(s)).includes(this)}).call(e,s)}function vt(e){return this.elements.container.querySelectorAll(e)}function ue(e){return this.elements.container.querySelector(e)}function Ci(e=null,s=!1){u.element(e)&&e.focus({preventScroll:!0,focusVisible:s})}const Ji={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},le={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,s){const i=le[e]||"html5"!==s;return{api:i,ui:i&&le.rangeInput}},pip:!ae.isIPhone&&!!(u.function(O("video").webkitSetPresentationMode)||document.pictureInPictureEnabled&&!O("video").disablePictureInPicture),airplay:u.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(u.empty(e))return!1;const[s]=e.split("/");let i=e;if(!this.isHTML5||s!==this.type)return!1;Object.keys(Ji).includes(i)&&(i+=`; codecs="${Ji[e]}"`);try{return!(!i||!this.media.canPlayType(i).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range","range"===e.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==st,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},_t=(()=>{let e=!1;try{const s=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,s),window.removeEventListener("test",null,s)}catch{}return e})();function Xe(e,s,i,r=!1,a=!0,c=!1){if(!e||!("addEventListener"in e)||u.empty(s)||!u.function(i))return;const h=s.split(" ");let d=c;_t&&(d={passive:a,capture:c}),h.forEach(m=>{this&&this.eventListeners&&r&&this.eventListeners.push({element:e,type:m,callback:i,options:d}),e[r?"addEventListener":"removeEventListener"](m,i,d)})}function W(e,s="",i,r=!0,a=!1){Xe.call(this,e,s,i,!0,r,a)}function oi(e,s="",i,r=!0,a=!1){Xe.call(this,e,s,i,!1,r,a)}function Si(e,s="",i,r=!0,a=!1){const c=(...h)=>{oi(e,s,c,r,a),i.apply(this,h)};Xe.call(this,e,s,c,!0,r,a)}function N(e,s="",i=!1,r={}){if(!u.element(e)||u.empty(s))return;const a=new CustomEvent(s,{bubbles:i,detail:{...r,plyr:this}});e.dispatchEvent(a)}function Ms(){this&&this.eventListeners&&(this.eventListeners.forEach(e=>{const{element:s,type:i,callback:r,options:a}=e;s.removeEventListener(i,r,a)}),this.eventListeners=[])}function xi(){return new Promise(e=>this.ready?setTimeout(e,0):W.call(this,this.elements.container,"ready",e)).then(()=>{})}function ve(e){u.promise(e)&&e.then(null,()=>{})}function wt(e){return u.array(e)?e.filter((s,i)=>e.indexOf(s)===i):e}function Zi(e,s){return u.array(e)&&e.length?e.reduce((i,r)=>Math.abs(r-s)<Math.abs(i-s)?r:i):null}function ai(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const es=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((e,[s,i])=>({...e,[s/i]:[s,i]}),{});function ts(e){return!!(u.array(e)||u.string(e)&&e.includes(":"))&&(u.array(e)?e:e.split(":")).map(Number).every(u.number)}function Qe(e){if(!u.array(e)||!e.every(u.number))return null;const[s,i]=e,r=(c,h)=>0===h?c:r(h,c%h),a=r(s,i);return[s/a,i/a]}function me(e){const s=r=>ts(r)?r.split(":").map(Number):null;let i=s(e);if(null===i&&(i=s(this.config.ratio)),null===i&&!u.empty(this.embed)&&u.array(this.embed.ratio)&&({ratio:i}=this.embed),null===i&&this.isHTML5){const{videoWidth:r,videoHeight:a}=this.media;i=[r,a]}return Qe(i)}function fe(e){if(!this.isVideo)return{};const{wrapper:s}=this.elements,i=me.call(this,e);if(!u.array(i))return{};const[r,a]=Qe(i),h=100/r*a;if(ai(`aspect-ratio: ${r}/${a}`)?s.style.aspectRatio=`${r}/${a}`:s.style.paddingBottom=`${h}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const d=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),m=(d-h)/(d/50);this.fullscreen.active?s.style.paddingBottom=null:this.media.style.transform=`translateY(-${m}%)`}else this.isHTML5&&s.classList.add(this.config.classNames.videoFixedRatio);return{padding:h,ratio:i}}function Te(e,s,i=.05){const r=e/s,a=Zi(Object.keys(es),r);return Math.abs(a-r)<=i?es[a]:[e,s]}const Ne={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(s=>{const i=s.getAttribute("type");return!!u.empty(i)||le.mime.call(this,i)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:Ne.getSources.call(this).map(e=>Number(e.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,u.empty(this.config.ratio)||fe.call(e),Object.defineProperty(e.media,"quality",{get(){const i=Ne.getSources.call(e).find(r=>r.getAttribute("src")===e.source);return i&&Number(i.getAttribute("size"))},set(s){if(e.quality!==s){if(e.config.quality.forced&&u.function(e.config.quality.onChange))e.config.quality.onChange(s);else{const r=Ne.getSources.call(e).find(b=>Number(b.getAttribute("size"))===s);if(!r)return;const{currentTime:a,paused:c,preload:h,readyState:d,playbackRate:m}=e.media;e.media.src=r.getAttribute("src"),("none"!==h||d)&&(e.once("loadedmetadata",()=>{e.speed=m,e.currentTime=a,c||ve(e.play())}),e.media.load())}N.call(e,e.media,"qualitychange",!1,{quality:s})}}})},cancelRequests(){this.isHTML5&&(Ye(Ne.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Ge(e,...s){return u.empty(e)?e:e.toString().replace(/{(\d+)}/g,(i,r)=>s[r].toString())}const At=(e="",s="",i="")=>e.replace(new RegExp(s.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString()),li=(e="")=>e.toString().replace(/\w\S*/g,s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase());function Oi(e){const s=document.createElement("div");return s.appendChild(e),s.innerHTML}const Li={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},he={get(e="",s={}){if(u.empty(e)||u.empty(s))return"";let i=Ei(s.i18n,e);return u.empty(i)?Object.keys(Li).includes(e)?Li[e]:"":(Object.entries({"{seektime}":s.seekTime,"{title}":s.title}).forEach(([a,c])=>{i=At(i,a,c)}),i)}};class Ct{constructor(s){_(this,"get",i=>{if(!Ct.supported||!this.enabled)return null;const r=window.localStorage.getItem(this.key);if(u.empty(r))return null;const a=JSON.parse(r);return u.string(i)&&i.length?a[i]:a}),_(this,"set",i=>{if(!Ct.supported||!this.enabled||!u.object(i))return;let r=this.get();u.empty(r)&&(r={}),ie(r,i);try{window.localStorage.setItem(this.key,JSON.stringify(r))}catch{}}),this.enabled=s.config.storage.enabled,this.key=s.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const s="___test";return window.localStorage.setItem(s,s),window.localStorage.removeItem(s),!0}catch{return!1}}}function St(e,s="text"){return new Promise((i,r)=>{try{const a=new XMLHttpRequest;if(!("withCredentials"in a))return;a.addEventListener("load",()=>{if("text"===s)try{i(JSON.parse(a.responseText))}catch{i(a.responseText)}else i(a.response)}),a.addEventListener("error",()=>{throw new Error(a.status)}),a.open("GET",e,!0),a.responseType=s,a.send()}catch(a){r(a)}})}function Mi(e,s){if(!u.string(e))return;const i="cache",r=u.string(s);let a=!1;const c=()=>null!==document.getElementById(s),h=(d,m)=>{d.innerHTML=m,(!r||!c())&&document.body.insertAdjacentElement("afterbegin",d)};if(!r||!c()){const d=Ct.supported,m=document.createElement("div");if(m.setAttribute("hidden",""),r&&m.setAttribute("id",s),d){const b=window.localStorage.getItem(`${i}-${s}`);if(a=null!==b,a){const A=JSON.parse(b);h(m,A.content)}}St(e).then(b=>{if(!u.empty(b)){if(d)try{window.localStorage.setItem(`${i}-${s}`,JSON.stringify({content:b}))}catch{}h(m,b)}}).catch(()=>{})}}const Ni=e=>Math.trunc(e/60/60%60,10);function Rt(e=0,s=!1,i=!1){if(!u.number(e))return Rt(void 0,s,i);const r=d=>`0${d}`.slice(-2);let a=Ni(e);const c=(e=>Math.trunc(e/60%60,10))(e),h=(e=>Math.trunc(e%60,10))(e);return a=s||a>0?`${a}:`:"",`${i&&e>0?"-":""}${a}${r(c)}:${r(h)}`}const k={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),s=window.location.host?window.location.host:window.top.location.host,i=e.host!==s||ae.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:i}},findElements(){try{return this.elements.controls=ue.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:vt.call(this,this.config.selectors.buttons.play),pause:ue.call(this,this.config.selectors.buttons.pause),restart:ue.call(this,this.config.selectors.buttons.restart),rewind:ue.call(this,this.config.selectors.buttons.rewind),fastForward:ue.call(this,this.config.selectors.buttons.fastForward),mute:ue.call(this,this.config.selectors.buttons.mute),pip:ue.call(this,this.config.selectors.buttons.pip),airplay:ue.call(this,this.config.selectors.buttons.airplay),settings:ue.call(this,this.config.selectors.buttons.settings),captions:ue.call(this,this.config.selectors.buttons.captions),fullscreen:ue.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=ue.call(this,this.config.selectors.progress),this.elements.inputs={seek:ue.call(this,this.config.selectors.inputs.seek),volume:ue.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:ue.call(this,this.config.selectors.display.buffer),currentTime:ue.call(this,this.config.selectors.display.currentTime),duration:ue.call(this,this.config.selectors.display.duration)},u.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,s){const i="http://www.w3.org/2000/svg",r=k.getIconUrl.call(this),a=`${r.cors?"":r.url}#${this.config.iconPrefix}`,c=document.createElementNS(i,"svg");rt(c,ie(s,{"aria-hidden":"true",focusable:"false"}));const h=document.createElementNS(i,"use"),d=`${a}-${e}`;return"href"in h&&h.setAttributeNS("http://www.w3.org/1999/xlink","href",d),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d),c.appendChild(h),c},createLabel(e,s={}){const i=he.get(e,this.config);return O("span",{...s,class:[s.class,this.config.classNames.hidden].filter(Boolean).join(" ")},i)},createBadge(e){if(u.empty(e))return null;const s=O("span",{class:this.config.classNames.menu.value});return s.appendChild(O("span",{class:this.config.classNames.menu.badge},e)),s},createButton(e,s){const i=ie({},s);let r=function is(e=""){let s=e.toString();return s=function Et(e=""){let s=e.toString();return s=At(s,"-"," "),s=At(s,"_"," "),s=li(s),At(s," ","")}(s),s.charAt(0).toLowerCase()+s.slice(1)}(e);const a={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(h=>{Object.keys(i).includes(h)&&(a[h]=i[h],delete i[h])}),"button"===a.element&&!Object.keys(i).includes("type")&&(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some(h=>h===this.config.classNames.control)||ie(i,{class:`${i.class} ${this.config.classNames.control}`}):i.class=this.config.classNames.control,e){case"play":a.toggle=!0,a.label="play",a.labelPressed="pause",a.icon="play",a.iconPressed="pause";break;case"mute":a.toggle=!0,a.label="mute",a.labelPressed="unmute",a.icon="volume",a.iconPressed="muted";break;case"captions":a.toggle=!0,a.label="enableCaptions",a.labelPressed="disableCaptions",a.icon="captions-off",a.iconPressed="captions-on";break;case"fullscreen":a.toggle=!0,a.label="enterFullscreen",a.labelPressed="exitFullscreen",a.icon="enter-fullscreen",a.iconPressed="exit-fullscreen";break;case"play-large":i.class+=` ${this.config.classNames.control}--overlaid`,r="play",a.label="play",a.icon="play";break;default:u.empty(a.label)&&(a.label=r),u.empty(a.icon)&&(a.icon=e)}const c=O(a.element);return a.toggle?(c.appendChild(k.createIcon.call(this,a.iconPressed,{class:"icon--pressed"})),c.appendChild(k.createIcon.call(this,a.icon,{class:"icon--not-pressed"})),c.appendChild(k.createLabel.call(this,a.labelPressed,{class:"label--pressed"})),c.appendChild(k.createLabel.call(this,a.label,{class:"label--not-pressed"}))):(c.appendChild(k.createIcon.call(this,a.icon)),c.appendChild(k.createLabel.call(this,a.label))),ie(i,je(this.config.selectors.buttons[r],i)),rt(c,i),"play"===r?(u.array(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(c)):this.elements.buttons[r]=c,c},createRange(e,s){const i=O("input",ie(je(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":he.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},s));return this.elements.inputs[e]=i,k.updateRangeFill.call(this,i),zi.setup(i),i},createProgress(e,s){const i=O("progress",ie(je(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},s));if("volume"!==e){i.appendChild(O("span",null,"0"));const r={played:"played",buffer:"buffered"}[e],a=r?he.get(r,this.config):"";i.innerText=`% ${a.toLowerCase()}`}return this.elements.display[e]=i,i},createTime(e,s){const i=je(this.config.selectors.display[e],s),r=O("div",ie(i,{class:`${i.class?i.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":he.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=r,r},bindMenuItemShortcuts(e,s){W.call(this,e,"keydown keyup",i=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(i.key)||(i.preventDefault(),i.stopPropagation(),"keydown"===i.type))return;const r=He(e,'[role="menuitemradio"]');if(!r&&[" ","ArrowRight"].includes(i.key))k.showMenuPanel.call(this,s,!0);else{let a;" "!==i.key&&("ArrowDown"===i.key||r&&"ArrowRight"===i.key?(a=e.nextElementSibling,u.element(a)||(a=e.parentNode.firstElementChild)):(a=e.previousElementSibling,u.element(a)||(a=e.parentNode.lastElementChild)),Ci.call(this,a,!0))}},!1),W.call(this,e,"keyup",i=>{"Return"===i.key&&k.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:e,list:s,type:i,title:r,badge:a=null,checked:c=!1}){const h=je(this.config.selectors.inputs[i]),d=O("button",ie(h,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${h.class?h.class:""}`.trim(),"aria-checked":c,value:e})),m=O("span");m.innerHTML=r,u.element(a)&&m.appendChild(a),d.appendChild(m),Object.defineProperty(d,"checked",{enumerable:!0,get:()=>"true"===d.getAttribute("aria-checked"),set(b){b&&Array.from(d.parentNode.children).filter(A=>He(A,'[role="menuitemradio"]')).forEach(A=>A.setAttribute("aria-checked","false")),d.setAttribute("aria-checked",b?"true":"false")}}),this.listeners.bind(d,"click keyup",b=>{if(!u.keyboardEvent(b)||" "===b.key){switch(b.preventDefault(),b.stopPropagation(),d.checked=!0,i){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}k.showMenuPanel.call(this,"home",u.keyboardEvent(b))}},i,!1),k.bindMenuItemShortcuts.call(this,d,i),s.appendChild(d)},formatTime(e=0,s=!1){return u.number(e)?Rt(e,Ni(this.duration)>0,s):e},updateTimeDisplay(e=null,s=0,i=!1){!u.element(e)||!u.number(s)||(e.innerText=k.formatTime(s,i))},updateVolume(){this.supported.ui&&(u.element(this.elements.inputs.volume)&&k.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),u.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(e,s=0){u.element(e)&&(e.value=s,k.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!u.event(e))return;let s=0;const i=(r,a)=>{const c=u.number(a)?a:0,h=u.element(r)?r:this.elements.display.buffer;if(u.element(h)){h.value=c;const d=h.getElementsByTagName("span")[0];u.element(d)&&(d.childNodes[0].nodeValue=c)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":s=function kt(e,s){return 0===e||0===s||Number.isNaN(e)||Number.isNaN(s)?0:(e/s*100).toFixed(2)}(this.currentTime,this.duration),"timeupdate"===e.type&&k.setRange.call(this,this.elements.inputs.seek,s);break;case"playing":case"progress":i(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){const s=u.event(e)?e.target:e;if(u.element(s)&&"range"===s.getAttribute("type")){if(He(s,this.config.selectors.inputs.seek)){s.setAttribute("aria-valuenow",this.currentTime);const i=k.formatTime(this.currentTime),r=k.formatTime(this.duration),a=he.get("seekLabel",this.config);s.setAttribute("aria-valuetext",a.replace("{currentTime}",i).replace("{duration}",r))}else if(He(s,this.config.selectors.inputs.volume)){const i=100*s.value;s.setAttribute("aria-valuenow",i),s.setAttribute("aria-valuetext",`${i.toFixed(1)}%`)}else s.setAttribute("aria-valuenow",s.value);!ae.isWebKit&&!ae.isIPadOS||s.style.setProperty("--value",s.value/s.max*100+"%")}},updateSeekTooltip(e){var s,i;if(!this.config.tooltips.seek||!u.element(this.elements.inputs.seek)||!u.element(this.elements.display.seekTooltip)||0===this.duration)return;const r=this.elements.display.seekTooltip,a=`${this.config.classNames.tooltip}--visible`,c=A=>Y(r,a,A);if(this.touch)return void c(!1);let h=0;const d=this.elements.progress.getBoundingClientRect();if(u.event(e))h=100/d.width*(e.pageX-d.left);else{if(!Ht(r,a))return;h=parseFloat(r.style.left,10)}h<0?h=0:h>100&&(h=100);const m=this.duration/100*h;r.innerText=k.formatTime(m);const b=null===(s=this.config.markers)||void 0===s||null===(i=s.points)||void 0===i?void 0:i.find(({time:A})=>A===Math.round(m));b&&r.insertAdjacentHTML("afterbegin",`${b.label}<br>`),r.style.left=`${h}%`,u.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&c("mouseenter"===e.type)},timeUpdate(e){const s=!u.element(this.elements.display.duration)&&this.config.invertTime;k.updateTimeDisplay.call(this,this.elements.display.currentTime,s?this.duration-this.currentTime:this.currentTime,s),(!e||"timeupdate"!==e.type||!this.media.seeking)&&k.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return ut(this.elements.display.currentTime,!0),void ut(this.elements.progress,!0);u.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=u.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&k.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&k.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&k.setMarkers.call(this),k.updateSeekTooltip.call(this)},toggleMenuButton(e,s){ut(this.elements.settings.buttons[e],!s)},updateSetting(e,s,i){const r=this.elements.settings.panels[e];let a=null,c=s;if("captions"===e)a=this.currentTrack;else{if(a=u.empty(i)?this[e]:i,u.empty(a)&&(a=this.config[e].default),!u.empty(this.options[e])&&!this.options[e].includes(a))return void this.debug.warn(`Unsupported value of '${a}' for ${e}`);if(!this.config[e].options.includes(a))return void this.debug.warn(`Disabled value of '${a}' for ${e}`)}if(u.element(c)||(c=r&&r.querySelector('[role="menu"]')),!u.element(c))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=k.getLabel.call(this,e,a);const d=c&&c.querySelector(`[value="${a}"]`);u.element(d)&&(d.checked=!0)},getLabel(e,s){switch(e){case"speed":return 1===s?he.get("normal",this.config):`${s}&times;`;case"quality":if(u.number(s)){const i=he.get(`qualityLabel.${s}`,this.config);return i.length?i:`${s}p`}return li(s);case"captions":return R.getLabel.call(this);default:return null}},setQualityMenu(e){if(!u.element(this.elements.settings.panels.quality))return;const s="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');u.array(e)&&(this.options.quality=wt(e).filter(c=>this.config.quality.options.includes(c)));const r=!u.empty(this.options.quality)&&this.options.quality.length>1;if(k.toggleMenuButton.call(this,s,r),ni(i),k.checkMenu.call(this),!r)return;const a=c=>{const h=he.get(`qualityBadge.${c}`,this.config);return h.length?k.createBadge.call(this,h):null};this.options.quality.sort((c,h)=>{const d=this.config.quality.options;return d.indexOf(c)>d.indexOf(h)?1:-1}).forEach(c=>{k.createMenuItem.call(this,{value:c,list:i,type:s,title:k.getLabel.call(this,"quality",c),badge:a(c)})}),k.updateSetting.call(this,s,i)},setCaptionsMenu(){if(!u.element(this.elements.settings.panels.captions))return;const e="captions",s=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=R.getTracks.call(this),r=!!i.length;if(k.toggleMenuButton.call(this,e,r),ni(s),k.checkMenu.call(this),!r)return;const a=i.map((c,h)=>({value:h,checked:this.captions.toggled&&this.currentTrack===h,title:R.getLabel.call(this,c),badge:c.language&&k.createBadge.call(this,c.language.toUpperCase()),list:s,type:"language"}));a.unshift({value:-1,checked:!this.captions.toggled,title:he.get("disabled",this.config),list:s,type:"language"}),a.forEach(k.createMenuItem.bind(this)),k.updateSetting.call(this,e,s)},setSpeedMenu(){if(!u.element(this.elements.settings.panels.speed))return;const e="speed",s=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(r=>r>=this.minimumSpeed&&r<=this.maximumSpeed);const i=!u.empty(this.options.speed)&&this.options.speed.length>1;k.toggleMenuButton.call(this,e,i),ni(s),k.checkMenu.call(this),i&&(this.options.speed.forEach(r=>{k.createMenuItem.call(this,{value:r,list:s,type:e,title:k.getLabel.call(this,"speed",r)})}),k.updateSetting.call(this,e,s))},checkMenu(){const{buttons:e}=this.elements.settings,s=!u.empty(e)&&Object.values(e).some(i=>!i.hidden);ut(this.elements.settings.menu,!s)},focusFirstMenuItem(e,s=!1){if(this.elements.settings.popup.hidden)return;let i=e;u.element(i)||(i=Object.values(this.elements.settings.panels).find(a=>!a.hidden));const r=i.querySelector('[role^="menuitem"]');Ci.call(this,r,s)},toggleMenu(e){const{popup:s}=this.elements.settings,i=this.elements.buttons.settings;if(!u.element(s)||!u.element(i))return;const{hidden:r}=s;let a=r;if(u.boolean(e))a=e;else if(u.keyboardEvent(e)&&"Escape"===e.key)a=!1;else if(u.event(e)){const c=u.function(e.composedPath)?e.composedPath()[0]:e.target,h=s.contains(c);if(h||!h&&e.target!==i&&a)return}i.setAttribute("aria-expanded",a),ut(s,!a),Y(this.elements.container,this.config.classNames.menu.open,a),a&&u.keyboardEvent(e)?k.focusFirstMenuItem.call(this,null,!0):!a&&!r&&Ci.call(this,i,u.keyboardEvent(e))},getMenuSize(e){const s=e.cloneNode(!0);s.style.position="absolute",s.style.opacity=0,s.removeAttribute("hidden"),e.parentNode.appendChild(s);const i=s.scrollWidth,r=s.scrollHeight;return Ye(s),{width:i,height:r}},showMenuPanel(e="",s=!1){const i=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!u.element(i))return;const r=i.parentNode,a=Array.from(r.children).find(c=>!c.hidden);if(le.transitions&&!le.reducedMotion){r.style.width=`${a.scrollWidth}px`,r.style.height=`${a.scrollHeight}px`;const c=k.getMenuSize.call(this,i),h=d=>{d.target!==r||!["width","height"].includes(d.propertyName)||(r.style.width="",r.style.height="",oi.call(this,r,st,h))};W.call(this,r,st,h),r.style.width=`${c.width}px`,r.style.height=`${c.height}px`}ut(a,!0),ut(i,!1),k.focusFirstMenuItem.call(this,i,s)},setDownloadUrl(){const e=this.elements.buttons.download;u.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:s,createButton:i,createProgress:r,createRange:a,createTime:c,setQualityMenu:h,setSpeedMenu:d,showMenuPanel:m}=k;this.elements.controls=null,u.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));const b=O("div",je(this.config.selectors.controls.wrapper));this.elements.controls=b;const A={class:"plyr__controls__item"};return wt(u.array(this.config.controls)?this.config.controls:[]).forEach(M=>{if("restart"===M&&b.appendChild(i.call(this,"restart",A)),"rewind"===M&&b.appendChild(i.call(this,"rewind",A)),"play"===M&&b.appendChild(i.call(this,"play",A)),"fast-forward"===M&&b.appendChild(i.call(this,"fast-forward",A)),"progress"===M){const w=O("div",{class:`${A.class} plyr__progress__container`}),L=O("div",je(this.config.selectors.progress));if(L.appendChild(a.call(this,"seek",{id:`plyr-seek-${e.id}`})),L.appendChild(r.call(this,"buffer")),this.config.tooltips.seek){const z=O("span",{class:this.config.classNames.tooltip},"00:00");L.appendChild(z),this.elements.display.seekTooltip=z}this.elements.progress=L,w.appendChild(this.elements.progress),b.appendChild(w)}if("current-time"===M&&b.appendChild(c.call(this,"currentTime",A)),"duration"===M&&b.appendChild(c.call(this,"duration",A)),"mute"===M||"volume"===M){let{volume:w}=this.elements;(!u.element(w)||!b.contains(w))&&(w=O("div",ie({},A,{class:`${A.class} plyr__volume`.trim()})),this.elements.volume=w,b.appendChild(w)),"mute"===M&&w.appendChild(i.call(this,"mute")),"volume"!==M||ae.isIos||ae.isIPadOS||w.appendChild(a.call(this,"volume",ie({max:1,step:.05,value:this.config.volume},{id:`plyr-volume-${e.id}`})))}if("captions"===M&&b.appendChild(i.call(this,"captions",A)),"settings"===M&&!u.empty(this.config.settings)){const w=O("div",ie({},A,{class:`${A.class} plyr__menu`.trim(),hidden:""}));w.appendChild(i.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const L=O("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),z=O("div"),q=O("div",{id:`plyr-settings-${e.id}-home`}),ne=O("div",{role:"menu"});q.appendChild(ne),z.appendChild(q),this.elements.settings.panels.home=q,this.config.settings.forEach(Z=>{const C=O("button",ie(je(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));s.call(this,C,Z),W.call(this,C,"click",()=>{m.call(this,Z,!1)});const V=O("span",null,he.get(Z,this.config)),oe=O("span",{class:this.config.classNames.menu.value});oe.innerHTML=e[Z],V.appendChild(oe),C.appendChild(V),ne.appendChild(C);const be=O("div",{id:`plyr-settings-${e.id}-${Z}`,hidden:""}),pe=O("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});pe.appendChild(O("span",{"aria-hidden":!0},he.get(Z,this.config))),pe.appendChild(O("span",{class:this.config.classNames.hidden},he.get("menuBack",this.config))),W.call(this,be,"keydown",X=>{"ArrowLeft"===X.key&&(X.preventDefault(),X.stopPropagation(),m.call(this,"home",!0))},!1),W.call(this,pe,"click",()=>{m.call(this,"home",!1)}),be.appendChild(pe),be.appendChild(O("div",{role:"menu"})),z.appendChild(be),this.elements.settings.buttons[Z]=C,this.elements.settings.panels[Z]=be}),L.appendChild(z),w.appendChild(L),b.appendChild(w),this.elements.settings.popup=L,this.elements.settings.menu=w}if("pip"===M&&le.pip&&b.appendChild(i.call(this,"pip",A)),"airplay"===M&&le.airplay&&b.appendChild(i.call(this,"airplay",A)),"download"===M){const w=ie({},A,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(w.download="");const{download:L}=this.config.urls;!u.url(L)&&this.isEmbed&&ie(w,{icon:`logo-${this.provider}`,label:this.provider}),b.appendChild(i.call(this,"download",w))}"fullscreen"===M&&b.appendChild(i.call(this,"fullscreen",A))}),this.isHTML5&&h.call(this,Ne.getQualityOptions.call(this)),d.call(this),b},inject(){if(this.config.loadSprite){const h=k.getIconUrl.call(this);h.cors&&Mi(h.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const s={id:this.id,seektime:this.config.seekTime,title:this.config.title};let a,i=!0;if(u.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,s)),this.config.controls||(this.config.controls=[]),u.element(this.config.controls)||u.string(this.config.controls)?e=this.config.controls:(e=k.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:R.getLabel.call(this)}),i=!1),i&&u.string(this.config.controls)&&(e=(h=>{let d=h;return Object.entries(s).forEach(([m,b])=>{d=At(d,`{${m}}`,b)}),d})(e)),u.string(this.config.selectors.controls.container)&&(a=document.querySelector(this.config.selectors.controls.container)),u.element(a)||(a=this.elements.container),a[u.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),u.element(this.elements.controls)||k.findElements.call(this),!u.empty(this.elements.buttons)){const h=d=>{const m=this.config.classNames.controlPressed;d.setAttribute("aria-pressed","false"),Object.defineProperty(d,"pressed",{configurable:!0,enumerable:!0,get:()=>Ht(d,m),set(b=!1){Y(d,m,b),d.setAttribute("aria-pressed",b?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(d=>{u.array(d)||u.nodeList(d)?Array.from(d).filter(Boolean).forEach(h):h(d)})}if(ae.isEdge&&Qi(a),this.config.tooltips.controls){const{classNames:h,selectors:d}=this.config,b=vt.call(this,`${d.controls.wrapper} ${d.labels} .${h.hidden}`);Array.from(b).forEach(A=>{Y(A,this.config.classNames.hidden,!1),Y(A,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var e,s;if(!this.duration||this.elements.markers)return;const i=null===(e=this.config.markers)||void 0===e||null===(s=e.points)||void 0===s?void 0:s.filter(({time:m})=>m>0&&m<this.duration);if(null==i||!i.length)return;const r=document.createDocumentFragment(),a=document.createDocumentFragment();let c=null;const h=`${this.config.classNames.tooltip}--visible`,d=m=>Y(c,h,m);i.forEach(m=>{const b=O("span",{class:this.config.classNames.marker},""),A=m.time/this.duration*100+"%";c&&(b.addEventListener("mouseenter",()=>{m.label||(c.style.left=A,c.innerHTML=m.label,d(!0))}),b.addEventListener("mouseleave",()=>{d(!1)})),b.addEventListener("click",()=>{this.currentTime=m.time}),b.style.left=A,a.appendChild(b)}),r.appendChild(a),this.config.tooltips.seek||(c=O("span",{class:this.config.classNames.tooltip},""),r.appendChild(c)),this.elements.markers={points:a,tip:c},this.elements.progress.appendChild(r)}};function $e(e,s=!0){let i=e;if(s){const r=document.createElement("a");r.href=i,i=r.href}try{return new URL(i)}catch{return null}}function ke(e){const s=new URLSearchParams;return u.object(e)&&Object.entries(e).forEach(([i,r])=>{s.set(i,r)}),s}const R={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!le.textTracks)return void(u.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&k.setCaptionsMenu.call(this));if(u.element(this.elements.captions)||(this.elements.captions=O("div",je(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),function Ls(e,s){!u.element(e)||!u.element(s)||s.parentNode.insertBefore(e,s.nextSibling)}(this.elements.captions,this.elements.wrapper)),ae.isIE&&window.URL){const a=this.media.querySelectorAll("track");Array.from(a).forEach(c=>{const h=c.getAttribute("src"),d=$e(h);null!==d&&d.hostname!==window.location.href.hostname&&["http:","https:"].includes(d.protocol)&&St(h,"blob").then(m=>{c.setAttribute("src",window.URL.createObjectURL(m))}).catch(()=>{Ye(c)})})}const s=wt((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(a=>a.split("-")[0]));let i=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===i&&([i]=s);let r=this.storage.get("captions");u.boolean(r)||({active:r}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:r,language:i,languages:s}),this.isHTML5&&W.call(this,this.media.textTracks,this.config.captions.update?"addtrack removetrack":"removetrack",R.update.bind(this)),setTimeout(R.update.bind(this),0)},update(){const e=R.getTracks.call(this,!0),{active:s,language:i,meta:r,currentTrackNode:a}=this.captions,c=!!e.find(h=>h.language===i);this.isHTML5&&this.isVideo&&e.filter(h=>!r.get(h)).forEach(h=>{this.debug.log("Track added",h),r.set(h,{default:"showing"===h.mode}),"showing"===h.mode&&(h.mode="hidden"),W.call(this,h,"cuechange",()=>R.updateCues.call(this))}),(c&&this.language!==i||!e.includes(a))&&(R.setLanguage.call(this,i),R.toggle.call(this,s&&c)),this.elements&&Y(this.elements.container,this.config.classNames.captions.enabled,!u.empty(e)),u.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&k.setCaptionsMenu.call(this)},toggle(e,s=!0){if(!this.supported.ui)return;const{toggled:i}=this.captions,r=this.config.classNames.captions.active,a=u.nullOrUndefined(e)?!i:e;if(a!==i){if(s||(this.captions.active=a,this.storage.set({captions:a})),!this.language&&a&&!s){const c=R.getTracks.call(this),h=R.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=h.language,void R.set.call(this,c.indexOf(h))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=a),Y(this.elements.container,r,a),this.captions.toggled=a,k.updateSetting.call(this,"captions"),N.call(this,this.media,a?"captionsenabled":"captionsdisabled")}setTimeout(()=>{a&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(e,s=!0){const i=R.getTracks.call(this);if(-1!==e)if(u.number(e))if(e in i){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const r=i[e],{language:a}=r||{};this.captions.currentTrackNode=r,k.updateSetting.call(this,"captions"),s||(this.captions.language=a,this.storage.set({language:a})),this.isVimeo&&this.embed.enableTextTrack(a),N.call(this,this.media,"languagechange")}R.toggle.call(this,!0,s),this.isHTML5&&this.isVideo&&R.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else R.toggle.call(this,!1,s)},setLanguage(e,s=!0){if(!u.string(e))return void this.debug.warn("Invalid language argument",e);const i=e.toLowerCase();this.captions.language=i;const r=R.getTracks.call(this),a=R.findTrack.call(this,[i]);R.set.call(this,r.indexOf(a),s)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter(i=>!this.isHTML5||e||this.captions.meta.has(i)).filter(i=>["captions","subtitles"].includes(i.kind))},findTrack(e,s=!1){const i=R.getTracks.call(this),r=h=>Number((this.captions.meta.get(h)||{}).default),a=Array.from(i).sort((h,d)=>r(d)-r(h));let c;return e.every(h=>(c=a.find(d=>d.language===h),!c)),c||(s?a[0]:void 0)},getCurrentTrack(){return R.getTracks.call(this)[this.currentTrack]},getLabel(e){let s=e;return!u.track(s)&&le.textTracks&&this.captions.toggled&&(s=R.getCurrentTrack.call(this)),u.track(s)?u.empty(s.label)?u.empty(s.language)?he.get("enabled",this.config):e.language.toUpperCase():s.label:he.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!u.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!u.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let s=e;if(!s){const a=R.getCurrentTrack.call(this);s=Array.from((a||{}).activeCues||[]).map(c=>c.getCueAsHTML()).map(Oi)}const i=s.map(a=>a.trim()).join("\n");if(i!==this.elements.captions.innerHTML){ni(this.elements.captions);const a=O("span",je(this.config.selectors.caption));a.innerHTML=i,this.elements.captions.appendChild(a),N.call(this,this.media,"cuechange")}}},Ce={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Re={html5:"html5",youtube:"youtube",vimeo:"vimeo"},xt=()=>{};class Pt{constructor(s=!1){this.enabled=window.console&&s,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):xt}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):xt}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):xt}}class Se{constructor(s){_(this,"onChange",()=>{if(!this.supported)return;const i=this.player.elements.buttons.fullscreen;u.element(i)&&(i.pressed=this.active),N.call(this.player,this.target===this.player.media?this.target:this.player.elements.container,this.active?"enterfullscreen":"exitfullscreen",!0)}),_(this,"toggleFallback",(i=!1)=>{if(i?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=i?"hidden":"",Y(this.target,this.player.config.classNames.fullscreen.fallback,i),ae.isIos){let r=document.head.querySelector('meta[name="viewport"]');const a="viewport-fit=cover";r||(r=document.createElement("meta"),r.setAttribute("name","viewport"));const c=u.string(r.content)&&r.content.includes(a);i?(this.cleanupViewport=!c,c||(r.content+=`,${a}`)):this.cleanupViewport&&(r.content=r.content.split(",").filter(h=>h.trim()!==a).join(","))}this.onChange()}),_(this,"trapFocus",i=>{if(ae.isIos||ae.isIPadOS||!this.active||"Tab"!==i.key)return;const r=document.activeElement,a=vt.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[c]=a,h=a[a.length-1];r!==h||i.shiftKey?r===c&&i.shiftKey&&(h.focus(),i.preventDefault()):(c.focus(),i.preventDefault())}),_(this,"update",()=>{if(this.supported){let i;i=this.forceFallback?"Fallback (forced)":Se.nativeSupported?"Native":"Fallback",this.player.debug.log(`${i} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");Y(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),_(this,"enter",()=>{this.supported&&(ae.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Se.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?u.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),_(this,"exit",()=>{this.supported&&(ae.isIos&&this.player.config.fullscreen.iosNative?(this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),ve(this.player.play())):!Se.nativeSupported||this.forceFallback?this.toggleFallback(!1):this.prefix?u.empty(this.prefix)||document[`${this.prefix}${"moz"===this.prefix?"Cancel":"Exit"}${this.property}`]():(document.cancelFullScreen||document.exitFullscreen).call(document))}),_(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=s,this.prefix=Se.prefix,this.property=Se.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===s.config.fullscreen.fallback,this.player.elements.fullscreen=s.config.fullscreen.container&&function Gi(e,s){const{prototype:i}=Element;return(i.closest||function r(){let c=this;do{if(He.matches(c,s))return c;c=c.parentElement||c.parentNode}while(null!==c&&1===c.nodeType);return null}).call(e,s)}(this.player.elements.container,s.config.fullscreen.container),W.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),W.call(this.player,this.player.elements.container,"dblclick",i=>{u.element(this.player.elements.controls)&&this.player.elements.controls.contains(i.target)||this.player.listeners.proxy(i,this.toggle,"fullscreen")}),W.call(this,this.player.elements.container,"keydown",i=>this.trapFocus(i)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return Se.nativeSupported&&!this.forceFallback}static get prefix(){if(u.function(document.exitFullscreen))return"";let s="";return["webkit","moz","ms"].some(r=>!(!u.function(document[`${r}ExitFullscreen`])&&!u.function(document[`${r}CancelFullScreen`])||(s=r,0))),s}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,Se.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||Se.nativeSupported||!ae.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!Se.nativeSupported||this.forceFallback)return Ht(this.target,this.player.config.classNames.fullscreen.fallback);const s=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return s&&s.shadowRoot?s===this.target.getRootNode().host:s===this.target}get target(){return ae.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function qt(e,s=1){return new Promise((i,r)=>{const a=new Image,c=()=>{delete a.onload,delete a.onerror,(a.naturalWidth>=s?i:r)(a)};Object.assign(a,{onload:c,onerror:c,src:e})})}const U={addStyleHook(){Y(this.elements.container,this.config.selectors.container.replace(".",""),!0),Y(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void U.toggleNativeControls.call(this,!0);u.element(this.elements.controls)||(k.inject.call(this),this.listeners.controls()),U.toggleNativeControls.call(this),this.isHTML5&&R.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,k.updateVolume.call(this),k.timeUpdate.call(this),k.durationUpdate.call(this),U.checkPlaying.call(this),Y(this.elements.container,this.config.classNames.pip.supported,le.pip&&this.isHTML5&&this.isVideo),Y(this.elements.container,this.config.classNames.airplay.supported,le.airplay&&this.isHTML5),Y(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{N.call(this,this.media,"ready")},0),U.setTitle.call(this),this.poster&&U.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&k.durationUpdate.call(this),this.config.mediaMetadata&&k.setMediaMetadata.call(this)},setTitle(){let e=he.get("play",this.config);if(u.string(this.config.title)&&!u.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(s=>{s.setAttribute("aria-label",e)}),this.isEmbed){const s=ue.call(this,"iframe");if(!u.element(s))return;const i=u.empty(this.config.title)?"video":this.config.title,r=he.get("frameTitle",this.config);s.setAttribute("title",r.replace("{title}",i))}},togglePoster(e){Y(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,s=!0){return s&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),xi.call(this).then(()=>qt(e)).catch(i=>{throw e===this.poster&&U.togglePoster.call(this,!1),i}).then(()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),U.togglePoster.call(this,!0),e)))},checkPlaying(e){Y(this.elements.container,this.config.classNames.playing,this.playing),Y(this.elements.container,this.config.classNames.paused,this.paused),Y(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(s=>{Object.assign(s,{pressed:this.playing}),s.setAttribute("aria-label",he.get(this.playing?"pause":"play",this.config))}),(!u.event(e)||"timeupdate"!==e.type)&&U.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{Y(this.elements.container,this.config.classNames.loading,this.loading),U.toggleControls.call(this)},this.loading?250:0)},toggleControls(e){const{controls:s}=this.elements;if(s&&this.config.hideControls){const i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(e||this.loading||this.paused||s.pressed||s.hover||i))}},migrateStyles(){Object.values({...this.media.style}).filter(e=>!u.empty(e)&&u.string(e)&&e.startsWith("--plyr")).forEach(e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)}),u.empty(this.media.style)&&this.media.removeAttribute("style")}};class $i{constructor(s){_(this,"firstTouch",()=>{const{player:i}=this,{elements:r}=i;i.touch=!0,Y(r.container,i.config.classNames.isTouch,!0)}),_(this,"global",(i=!0)=>{const{player:r}=this;r.config.keyboard.global&&Xe.call(r,window,"keydown keyup",this.handleKey,i,!1),Xe.call(r,document.body,"click",this.toggleMenu,i),Si.call(r,document.body,"touchstart",this.firstTouch)}),_(this,"container",()=>{const{player:i}=this,{config:r,elements:a,timers:c}=i;!r.keyboard.global&&r.keyboard.focused&&W.call(i,a.container,"keydown keyup",this.handleKey,!1),W.call(i,a.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",m=>{const{controls:b}=a;b&&"enterfullscreen"===m.type&&(b.pressed=!1,b.hover=!1);let M=0;["touchstart","touchmove","mousemove"].includes(m.type)&&(U.toggleControls.call(i,!0),M=i.touch?3e3:2e3),clearTimeout(c.controls),c.controls=setTimeout(()=>U.toggleControls.call(i,!1),M)});const h=()=>{if(!i.isVimeo||i.config.vimeo.premium)return;const m=a.wrapper,{active:b}=i.fullscreen,[A,M]=me.call(i),w=ai(`aspect-ratio: ${A} / ${M}`);if(!b)return void(w?(m.style.width=null,m.style.height=null):(m.style.maxWidth=null,m.style.margin=null));const[L,z]=function _e(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}(),q=L/z>A/M;w?(m.style.width=q?"auto":"100%",m.style.height=q?"100%":"auto"):(m.style.maxWidth=q?z/M*A+"px":null,m.style.margin=q?"0 auto":null)},d=()=>{clearTimeout(c.resized),c.resized=setTimeout(h,50)};W.call(i,a.container,"enterfullscreen exitfullscreen",m=>{const{target:b}=i.fullscreen;b!==a.container||!i.isEmbed&&u.empty(i.config.ratio)||(h(),("enterfullscreen"===m.type?W:oi).call(i,window,"resize",d))})}),_(this,"media",()=>{const{player:i}=this,{elements:r}=i;if(W.call(i,i.media,"timeupdate seeking seeked",c=>k.timeUpdate.call(i,c)),W.call(i,i.media,"durationchange loadeddata loadedmetadata",c=>k.durationUpdate.call(i,c)),W.call(i,i.media,"ended",()=>{i.isHTML5&&i.isVideo&&i.config.resetOnEnd&&(i.restart(),i.pause())}),W.call(i,i.media,"progress playing seeking seeked",c=>k.updateProgress.call(i,c)),W.call(i,i.media,"volumechange",c=>k.updateVolume.call(i,c)),W.call(i,i.media,"playing play pause ended emptied timeupdate",c=>U.checkPlaying.call(i,c)),W.call(i,i.media,"waiting canplay seeked playing",c=>U.checkLoading.call(i,c)),i.supported.ui&&i.config.clickToPlay&&!i.isAudio){const c=ue.call(i,`.${i.config.classNames.video}`);if(!u.element(c))return;W.call(i,r.container,"click",h=>{![r.container,c].includes(h.target)&&!c.contains(h.target)||i.touch&&i.config.hideControls||(i.ended?(this.proxy(h,i.restart,"restart"),this.proxy(h,()=>{ve(i.play())},"play")):this.proxy(h,()=>{ve(i.togglePlay())},"play"))})}i.supported.ui&&i.config.disableContextMenu&&W.call(i,r.wrapper,"contextmenu",c=>{c.preventDefault()},!1),W.call(i,i.media,"volumechange",()=>{i.storage.set({volume:i.volume,muted:i.muted})}),W.call(i,i.media,"ratechange",()=>{k.updateSetting.call(i,"speed"),i.storage.set({speed:i.speed})}),W.call(i,i.media,"qualitychange",c=>{k.updateSetting.call(i,"quality",null,c.detail.quality)}),W.call(i,i.media,"ready qualitychange",()=>{k.setDownloadUrl.call(i)});const a=i.config.events.concat(["keyup","keydown"]).join(" ");W.call(i,i.media,a,c=>{let{detail:h={}}=c;"error"===c.type&&(h=i.media.error),N.call(i,r.container,c.type,!0,h)})}),_(this,"proxy",(i,r,a)=>{const{player:c}=this,h=c.config.listeners[a];let m=!0;u.function(h)&&(m=h.call(c,i)),!1!==m&&u.function(r)&&r.call(c,i)}),_(this,"bind",(i,r,a,c,h=!0)=>{const{player:d}=this,b=u.function(d.config.listeners[c]);W.call(d,i,r,A=>this.proxy(A,a,c),h&&!b)}),_(this,"controls",()=>{const{player:i}=this,{elements:r}=i,a=ae.isIE?"change":"input";if(r.buttons.play&&Array.from(r.buttons.play).forEach(c=>{this.bind(c,"click",()=>{ve(i.togglePlay())},"play")}),this.bind(r.buttons.restart,"click",i.restart,"restart"),this.bind(r.buttons.rewind,"click",()=>{i.lastSeekTime=Date.now(),i.rewind()},"rewind"),this.bind(r.buttons.fastForward,"click",()=>{i.lastSeekTime=Date.now(),i.forward()},"fastForward"),this.bind(r.buttons.mute,"click",()=>{i.muted=!i.muted},"mute"),this.bind(r.buttons.captions,"click",()=>i.toggleCaptions()),this.bind(r.buttons.download,"click",()=>{N.call(i,i.media,"download")},"download"),this.bind(r.buttons.fullscreen,"click",()=>{i.fullscreen.toggle()},"fullscreen"),this.bind(r.buttons.pip,"click",()=>{i.pip="toggle"},"pip"),this.bind(r.buttons.airplay,"click",i.airplay,"airplay"),this.bind(r.buttons.settings,"click",c=>{c.stopPropagation(),c.preventDefault(),k.toggleMenu.call(i,c)},null,!1),this.bind(r.buttons.settings,"keyup",c=>{if([" ","Enter"].includes(c.key)){if("Enter"===c.key)return void k.focusFirstMenuItem.call(i,null,!0);c.preventDefault(),c.stopPropagation(),k.toggleMenu.call(i,c)}},null,!1),this.bind(r.settings.menu,"keydown",c=>{"Escape"===c.key&&k.toggleMenu.call(i,c)}),this.bind(r.inputs.seek,"mousedown mousemove",c=>{const h=r.progress.getBoundingClientRect();c.currentTarget.setAttribute("seek-value",100/h.width*(c.pageX-h.left))}),this.bind(r.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",c=>{const h=c.currentTarget,d="play-on-seeked";if(u.keyboardEvent(c)&&!["ArrowLeft","ArrowRight"].includes(c.key))return;i.lastSeekTime=Date.now();const m=h.hasAttribute(d),b=["mouseup","touchend","keyup"].includes(c.type);m&&b?(h.removeAttribute(d),ve(i.play())):!b&&i.playing&&(h.setAttribute(d,""),i.pause())}),ae.isIos){const c=vt.call(i,'input[type="range"]');Array.from(c).forEach(h=>this.bind(h,a,d=>Qi(d.target)))}this.bind(r.inputs.seek,a,c=>{const h=c.currentTarget;let d=h.getAttribute("seek-value");u.empty(d)&&(d=h.value),h.removeAttribute("seek-value"),i.currentTime=d/h.max*i.duration},"seek"),this.bind(r.progress,"mouseenter mouseleave mousemove",c=>k.updateSeekTooltip.call(i,c)),this.bind(r.progress,"mousemove touchmove",c=>{const{previewThumbnails:h}=i;h&&h.loaded&&h.startMove(c)}),this.bind(r.progress,"mouseleave touchend click",()=>{const{previewThumbnails:c}=i;c&&c.loaded&&c.endMove(!1,!0)}),this.bind(r.progress,"mousedown touchstart",c=>{const{previewThumbnails:h}=i;h&&h.loaded&&h.startScrubbing(c)}),this.bind(r.progress,"mouseup touchend",c=>{const{previewThumbnails:h}=i;h&&h.loaded&&h.endScrubbing(c)}),ae.isWebKit&&Array.from(vt.call(i,'input[type="range"]')).forEach(c=>{this.bind(c,"input",h=>k.updateRangeFill.call(i,h.target))}),i.config.toggleInvert&&!u.element(r.display.duration)&&this.bind(r.display.currentTime,"click",()=>{0!==i.currentTime&&(i.config.invertTime=!i.config.invertTime,k.timeUpdate.call(i))}),this.bind(r.inputs.volume,a,c=>{i.volume=c.target.value},"volume"),this.bind(r.controls,"mouseenter mouseleave",c=>{r.controls.hover=!i.touch&&"mouseenter"===c.type}),r.fullscreen&&Array.from(r.fullscreen.children).filter(c=>!c.contains(r.container)).forEach(c=>{this.bind(c,"mouseenter mouseleave",h=>{r.controls&&(r.controls.hover=!i.touch&&"mouseenter"===h.type)})}),this.bind(r.controls,"mousedown mouseup touchstart touchend touchcancel",c=>{r.controls.pressed=["mousedown","touchstart"].includes(c.type)}),this.bind(r.controls,"focusin",()=>{const{config:c,timers:h}=i;Y(r.controls,c.classNames.noTransition,!0),U.toggleControls.call(i,!0),setTimeout(()=>{Y(r.controls,c.classNames.noTransition,!1)},0);const d=this.touch?3e3:4e3;clearTimeout(h.controls),h.controls=setTimeout(()=>U.toggleControls.call(i,!1),d)}),this.bind(r.inputs.volume,"wheel",c=>{const h=c.webkitDirectionInvertedFromDevice,[d,m]=[c.deltaX,-c.deltaY].map(M=>h?-M:M),b=Math.sign(Math.abs(d)>Math.abs(m)?d:m);i.increaseVolume(b/50);const{volume:A}=i.media;(1===b&&A<1||-1===b&&A>0)&&c.preventDefault()},"volume",!1)}),this.player=s,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(s){const{player:i}=this,{elements:r}=i,{key:a,type:c,altKey:h,ctrlKey:d,metaKey:m,shiftKey:b}=s,A="keydown"===c,M=A&&a===this.lastKey;if(!(h||d||m||b)&&a)if(A){const L=document.activeElement;if(u.element(L)){const{editable:q}=i.config.selectors,{seek:ne}=r.inputs;if(L!==ne&&He(L,q)||" "===s.key&&He(L,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(a)&&(s.preventDefault(),s.stopPropagation()),a){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":M||(L=>{i.currentTime=i.duration/10*L})(parseInt(a,10));break;case" ":case"k":M||ve(i.togglePlay());break;case"ArrowUp":i.increaseVolume(.1);break;case"ArrowDown":i.decreaseVolume(.1);break;case"m":M||(i.muted=!i.muted);break;case"ArrowRight":i.forward();break;case"ArrowLeft":i.rewind();break;case"f":i.fullscreen.toggle();break;case"c":M||i.toggleCaptions();break;case"l":i.loop=!i.loop}"Escape"===a&&!i.fullscreen.usingNative&&i.fullscreen.active&&i.fullscreen.toggle(),this.lastKey=a}else this.lastKey=null}toggleMenu(s){k.toggleMenu.call(this.player,s)}}typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;var Ns=function Je(e,s){return e(s={exports:{}},s.exports),s.exports}(function(e,s){e.exports=function(){var i=function(){},r={},a={},c={};function d(w,L){if(w){var z=c[w];if(a[w]=L,z)for(;z.length;)z[0](w,L),z.splice(0,1)}}function m(w,L){w.call&&(w={success:w}),L.length?(w.error||i)(L):(w.success||i)(w)}function b(w,L,z,q){var pe,X,ne=document,Z=z.async,C=(z.numRetries||0)+1,V=z.before||i,oe=w.replace(/[\?|#].*$/,""),be=w.replace(/^(css|img)!/,"");q=q||0,/(^css!|\.css$)/.test(oe)?((X=ne.createElement("link")).rel="stylesheet",X.href=be,(pe="hideFocus"in X)&&X.relList&&(pe=0,X.rel="preload",X.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(oe)?(X=ne.createElement("img")).src=be:((X=ne.createElement("script")).src=w,X.async=void 0===Z||Z),X.onload=X.onerror=X.onbeforeload=function(cs){var Mt=cs.type[0];if(pe)try{X.sheet.cssText.length||(Mt="e")}catch(us){18!=us.code&&(Mt="e")}if("e"==Mt){if((q+=1)<C)return b(w,L,z,q)}else if("preload"==X.rel&&"style"==X.as)return X.rel="stylesheet";L(w,Mt,cs.defaultPrevented)},!1!==V(w,X)&&ne.head.appendChild(X)}function M(w,L,z){var q,ne;if(L&&L.trim&&(q=L),ne=(q?z:L)||{},q){if(q in r)throw"LoadJS";r[q]=!0}function Z(C,V){!function A(w,L,z){var C,V,q=(w=w.push?w:[w]).length,ne=q,Z=[];for(C=function(oe,be,pe){if("e"==be&&Z.push(oe),"b"==be){if(!pe)return;Z.push(oe)}--q||L(Z)},V=0;V<ne;V++)b(w[V],C,z)}(w,function(oe){m(ne,oe),C&&m({success:C,error:V},oe),d(q,oe)},ne)}if(ne.returnPromise)return new Promise(Z);Z()}return M.ready=function(L,z){return function h(w,L){var Z,C,V,z=[],q=(w=w.push?w:[w]).length,ne=q;for(Z=function(be,pe){pe.length&&z.push(be),--ne||L(z)};q--;)(V=a[C=w[q]])?Z(C,V):(c[C]=c[C]||[]).push(Z)}(L,function(q){m(z,q)}),M},M.done=function(L){d(L,[])},M.reset=function(){r={},a={},c={}},M.isDefined=function(L){return L in r},M}()});function Fe(e){return new Promise((s,i)=>{Ns(e,{success:s,error:i})})}function Ze(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,N.call(this,this.media,e?"play":"pause"))}const Bt={setup(){const e=this;Y(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,fe.call(e),u.object(window.Vimeo)?Bt.ready.call(e):Fe(e.config.urls.vimeo.sdk).then(()=>{Bt.ready.call(e)}).catch(s=>{e.debug.warn("Vimeo SDK (player.js) failed to load",s)})},ready(){const e=this,s=e.config.vimeo,{premium:i,referrerPolicy:r,...a}=s;let c=e.media.getAttribute("src"),h="";u.empty(c)?(c=e.media.getAttribute(e.config.attributes.embed.id),h=e.media.getAttribute(e.config.attributes.embed.hash)):h=function os(e){const i=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return i&&5===i.length?i[4]:null}(c);const d=h?{h}:{};i&&Object.assign(a,{controls:!1,sidedock:!1});const m=ke({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...d,...a}),b=function ci(e){return u.empty(e)?null:u.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e}(c),A=O("iframe"),M=Ge(e.config.urls.vimeo.iframe,b,m);if(A.setAttribute("src",M),A.setAttribute("allowfullscreen",""),A.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),u.empty(r)||A.setAttribute("referrerPolicy",r),i||!s.customControls)A.setAttribute("data-poster",e.poster),e.media=ri(A,e.media);else{const C=O("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});C.appendChild(A),e.media=ri(C,e.media)}s.customControls||St(Ge(e.config.urls.vimeo.api,M)).then(C=>{u.empty(C)||!C.thumbnail_url||U.setPoster.call(e,C.thumbnail_url).catch(()=>{})}),e.embed=new window.Vimeo.Player(A,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(Ze.call(e,!0),e.embed.play()),e.media.pause=()=>(Ze.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:w}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>w,set(C){const{embed:V,media:oe,paused:be,volume:pe}=e,X=be&&!V.hasPlayed;oe.seeking=!0,N.call(e,oe,"seeking"),Promise.resolve(X&&V.setVolume(0)).then(()=>V.setCurrentTime(C)).then(()=>X&&V.pause()).then(()=>X&&V.setVolume(pe)).catch(()=>{})}});let L=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>L,set(C){e.embed.setPlaybackRate(C).then(()=>{L=C,N.call(e,e.media,"ratechange")}).catch(()=>{e.options.speed=[1]})}});let{volume:z}=e.config;Object.defineProperty(e.media,"volume",{get:()=>z,set(C){e.embed.setVolume(C).then(()=>{z=C,N.call(e,e.media,"volumechange")})}});let{muted:q}=e.config;Object.defineProperty(e.media,"muted",{get:()=>q,set(C){const V=!!u.boolean(C)&&C;e.embed.setMuted(!!V||e.config.muted).then(()=>{q=V,N.call(e,e.media,"volumechange")})}});let Z,{loop:ne}=e.config;Object.defineProperty(e.media,"loop",{get:()=>ne,set(C){const V=u.boolean(C)?C:e.config.loop.active;e.embed.setLoop(V).then(()=>{ne=V})}}),e.embed.getVideoUrl().then(C=>{Z=C,k.setDownloadUrl.call(e)}).catch(C=>{this.debug.warn(C)}),Object.defineProperty(e.media,"currentSrc",{get:()=>Z}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then(C=>{const[V,oe]=C;e.embed.ratio=Te(V,oe),fe.call(this)}),e.embed.setAutopause(e.config.autopause).then(C=>{e.config.autopause=C}),e.embed.getVideoTitle().then(C=>{e.config.title=C,U.setTitle.call(this)}),e.embed.getCurrentTime().then(C=>{w=C,N.call(e,e.media,"timeupdate")}),e.embed.getDuration().then(C=>{e.media.duration=C,N.call(e,e.media,"durationchange")}),e.embed.getTextTracks().then(C=>{e.media.textTracks=C,R.setup.call(e)}),e.embed.on("cuechange",({cues:C=[]})=>{const V=C.map(oe=>function Pi(e){const s=document.createDocumentFragment(),i=document.createElement("div");return s.appendChild(i),i.innerHTML=e,s.firstChild.innerText}(oe.text));R.updateCues.call(e,V)}),e.embed.on("loaded",()=>{e.embed.getPaused().then(C=>{Ze.call(e,!C),C||N.call(e,e.media,"playing")}),u.element(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)}),e.embed.on("bufferstart",()=>{N.call(e,e.media,"waiting")}),e.embed.on("bufferend",()=>{N.call(e,e.media,"playing")}),e.embed.on("play",()=>{Ze.call(e,!0),N.call(e,e.media,"playing")}),e.embed.on("pause",()=>{Ze.call(e,!1)}),e.embed.on("timeupdate",C=>{e.media.seeking=!1,w=C.seconds,N.call(e,e.media,"timeupdate")}),e.embed.on("progress",C=>{e.media.buffered=C.percent,N.call(e,e.media,"progress"),1===parseInt(C.percent,10)&&N.call(e,e.media,"canplaythrough"),e.embed.getDuration().then(V=>{V!==e.media.duration&&(e.media.duration=V,N.call(e,e.media,"durationchange"))})}),e.embed.on("seeked",()=>{e.media.seeking=!1,N.call(e,e.media,"seeked")}),e.embed.on("ended",()=>{e.media.paused=!0,N.call(e,e.media,"ended")}),e.embed.on("error",C=>{e.media.error=C,N.call(e,e.media,"error")}),s.customControls&&setTimeout(()=>U.build.call(e),0)}};function Ot(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,N.call(this,this.media,e?"play":"pause"))}function as(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}const Wt={setup(){if(Y(this.elements.wrapper,this.config.classNames.embed,!0),u.object(window.YT)&&u.function(window.YT.Player))Wt.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{u.function(e)&&e(),Wt.ready.call(this)},Fe(this.config.urls.youtube.sdk).catch(s=>{this.debug.warn("YouTube API failed to load",s)})}},getTitle(e){St(Ge(this.config.urls.youtube.api,e)).then(i=>{if(u.object(i)){const{title:r,height:a,width:c}=i;this.config.title=r,U.setTitle.call(this),this.embed.ratio=Te(c,a)}fe.call(this)}).catch(()=>{fe.call(this)})},ready(){const e=this,s=e.config.youtube,i=e.media&&e.media.getAttribute("id");if(!u.empty(i)&&i.startsWith("youtube-"))return;let r=e.media.getAttribute("src");u.empty(r)&&(r=e.media.getAttribute(this.config.attributes.embed.id));const a=function Vt(e){return u.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e}(r),c=function Tt(e){return`${e}-${Math.floor(1e4*Math.random())}`}(e.provider),h=O("div",{id:c,"data-poster":s.customControls?e.poster:void 0});if(e.media=ri(h,e.media),s.customControls){const d=m=>`https://i.ytimg.com/vi/${a}/${m}default.jpg`;qt(d("maxres"),121).catch(()=>qt(d("sd"),121)).catch(()=>qt(d("hq"))).then(m=>U.setPoster.call(e,m.src)).then(m=>{m.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}e.embed=new window.YT.Player(e.media,{videoId:a,host:as(s),playerVars:ie({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&s.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},s),events:{onError(d){if(!e.media.error){const m=d.data;e.media.error={code:m,message:{2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[m]||"An unknown error occurred"},N.call(e,e.media,"error")}},onPlaybackRateChange(d){e.media.playbackRate=d.target.getPlaybackRate(),N.call(e,e.media,"ratechange")},onReady(d){if(u.function(e.media.play))return;const m=d.target;Wt.getTitle.call(e,a),e.media.play=()=>{Ot.call(e,!0),m.playVideo()},e.media.pause=()=>{Ot.call(e,!1),m.pauseVideo()},e.media.stop=()=>{m.stopVideo()},e.media.duration=m.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(m.getCurrentTime()),set(w){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,N.call(e,e.media,"seeking"),m.seekTo(w)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>m.getPlaybackRate(),set(w){m.setPlaybackRate(w)}});let{volume:b}=e.config;Object.defineProperty(e.media,"volume",{get:()=>b,set(w){b=w,m.setVolume(100*b),N.call(e,e.media,"volumechange")}});let{muted:A}=e.config;Object.defineProperty(e.media,"muted",{get:()=>A,set(w){const L=u.boolean(w)?w:A;A=L,m[L?"mute":"unMute"](),m.setVolume(100*b),N.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>m.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const M=m.getAvailablePlaybackRates();e.options.speed=M.filter(w=>e.config.speed.options.includes(w)),e.supported.ui&&s.customControls&&e.media.setAttribute("tabindex",-1),N.call(e,e.media,"timeupdate"),N.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval(()=>{e.media.buffered=m.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&N.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),N.call(e,e.media,"canplaythrough"))},200),s.customControls&&setTimeout(()=>U.build.call(e),50)},onStateChange(d){const m=d.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(d.data)&&(e.media.seeking=!1,N.call(e,e.media,"seeked")),d.data){case-1:N.call(e,e.media,"timeupdate"),e.media.buffered=m.getVideoLoadedFraction(),N.call(e,e.media,"progress");break;case 0:Ot.call(e,!1),e.media.loop?(m.stopVideo(),m.playVideo()):N.call(e,e.media,"ended");break;case 1:s.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(Ot.call(e,!0),N.call(e,e.media,"playing"),e.timers.playing=setInterval(()=>{N.call(e,e.media,"timeupdate")},50),e.media.duration!==m.getDuration()&&(e.media.duration=m.getDuration(),N.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),Ot.call(e,!1);break;case 3:N.call(e,e.media,"waiting")}N.call(e,e.elements.container,"statechange",!1,{code:d.data})}}})}},dt={setup(){this.media?(Y(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),Y(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&Y(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=O("div",{class:this.config.classNames.video}),ct(this.media,this.elements.wrapper),this.elements.poster=O("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Ne.setup.call(this):this.isYouTube?Wt.setup.call(this):this.isVimeo&&Bt.setup.call(this)):this.debug.warn("No media element found!")}};class ls{constructor(s){_(this,"load",()=>{this.enabled&&(u.object(window.google)&&u.object(window.google.ima)?this.ready():Fe(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),_(this,"ready",()=>{var e;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),_(this,"setupIMA",()=>{this.elements.container=O("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,i=>this.onAdsManagerLoaded(i),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,i=>this.onAdError(i),!1),this.requestAds()}),_(this,"requestAds",()=>{const{container:i}=this.player.elements;try{const r=new google.ima.AdsRequest;r.adTagUrl=this.tagUrl,r.linearAdSlotWidth=i.offsetWidth,r.linearAdSlotHeight=i.offsetHeight,r.nonLinearAdSlotWidth=i.offsetWidth,r.nonLinearAdSlotHeight=i.offsetHeight,r.forceNonLinearFullSlot=!1,r.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(r)}catch(r){this.onAdError(r)}}),_(this,"pollCountdown",(i=!1)=>{if(!i)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const a=Rt(Math.max(this.manager.getRemainingTime(),0)),c=`${he.get("advertisement",this.player.config)} - ${a}`;this.elements.container.setAttribute("data-badge-text",c)},100)}),_(this,"onAdsManagerLoaded",i=>{if(!this.enabled)return;const r=new google.ima.AdsRenderingSettings;r.restoreCustomPlaybackStateOnAdBreakComplete=!0,r.enablePreloading=!0,this.manager=i.getAdsManager(this.player,r),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,a=>this.onAdError(a)),Object.keys(google.ima.AdEvent.Type).forEach(a=>{this.manager.addEventListener(google.ima.AdEvent.Type[a],c=>this.onAdEvent(c))}),this.trigger("loaded")}),_(this,"addCuePoints",()=>{u.empty(this.cuePoints)||this.cuePoints.forEach(i=>{if(0!==i&&-1!==i&&i<this.player.duration){const r=this.player.elements.progress;if(u.element(r)){const a=100/this.player.duration*i,c=O("span",{class:this.player.config.classNames.cues});c.style.left=`${a.toString()}%`,r.appendChild(c)}}})}),_(this,"onAdEvent",i=>{const{container:r}=this.player.elements,a=i.getAd(),c=i.getAdData();switch((d=>{N.call(this.player,this.player.media,`ads${d.replace(/_/g,"").toLowerCase()}`)})(i.type),i.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),a.isLinear()||(a.width=r.offsetWidth,a.height=r.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:c.adError&&this.player.debug.warn(`Non-fatal ad error: ${c.adError.getMessage()}`)}}),_(this,"onAdError",i=>{this.cancel(),this.player.debug.warn("Ads error",i)}),_(this,"listeners",()=>{const{container:i}=this.player.elements;let r;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{r=this.player.currentTime}),this.player.on("seeked",()=>{const a=this.player.currentTime;u.empty(this.cuePoints)||this.cuePoints.forEach((c,h)=>{r<c&&c<a&&(this.manager.discardAdBreak(),this.cuePoints.splice(h,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(i.offsetWidth,i.offsetHeight,google.ima.ViewMode.NORMAL)})}),_(this,"play",()=>{const{container:i}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(i.offsetWidth,i.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(r){this.onAdError(r)}}).catch(()=>{})}),_(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,ve(this.player.media.play())}),_(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),_(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),_(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(i=>{this.on("loaded",i),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),_(this,"trigger",(i,...r)=>{const a=this.events[i];u.array(a)&&a.forEach(c=>{u.function(c)&&c.apply(this,r)})}),_(this,"on",(i,r)=>(u.array(this.events[i])||(this.events[i]=[]),this.events[i].push(r),this)),_(this,"startSafetyTimer",(i,r)=>{this.player.debug.log(`Safety timer invoked from: ${r}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},i)}),_(this,"clearSafetyTimer",i=>{u.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${i}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=s,this.config=s.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((i,r)=>{this.on("loaded",i),this.on("error",r)}),this.load()}get enabled(){const{config:s}=this;return this.player.isHTML5&&this.player.isVideo&&s.enabled&&(!u.empty(s.publisherId)||u.url(s.tagUrl))}get tagUrl(){const{config:s}=this;return u.url(s.tagUrl)?s.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${ke({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:s.publisherId})}`}}function ui(e=0,s=0,i=255){return Math.min(Math.max(e,s),i)}const hi=e=>{const s=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach(r=>{const a={};r.split(/\r\n|\n|\r/).forEach(h=>{if(u.number(a.startTime)){if(!u.empty(h.trim())&&u.empty(a.text)){const d=h.trim().split("#xywh=");[a.text]=d,d[1]&&([a.x,a.y,a.w,a.h]=d[1].split(","))}}else{const d=h.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);d&&(a.startTime=60*Number(d[1]||0)*60+60*Number(d[2])+Number(d[3])+ +`0.${d[4]}`,a.endTime=60*Number(d[6]||0)*60+60*Number(d[7])+Number(d[8])+ +`0.${d[9]}`)}}),a.text&&s.push(a)}),s},di=(e,s)=>{const r={};return e>s.width/s.height?(r.width=s.width,r.height=1/e*s.width):(r.height=s.height,r.width=e*s.height),r};class Ii{constructor(s){_(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),_(this,"getThumbnails",()=>new Promise(i=>{const{src:r}=this.player.config.previewThumbnails;if(u.empty(r))throw new Error("Missing previewThumbnails.src config attribute");const a=()=>{this.thumbnails.sort((c,h)=>c.height-h.height),this.player.debug.log("Preview thumbnails",this.thumbnails),i()};if(u.function(r))r(c=>{this.thumbnails=c,a()});else{const h=(u.string(r)?[r]:r).map(d=>this.getThumbnail(d));Promise.all(h).then(a)}})),_(this,"getThumbnail",i=>new Promise(r=>{St(i).then(a=>{const c={frames:hi(a),height:null,urlPrefix:""};!c.frames[0].text.startsWith("/")&&!c.frames[0].text.startsWith("http://")&&!c.frames[0].text.startsWith("https://")&&(c.urlPrefix=i.substring(0,i.lastIndexOf("/")+1));const h=new Image;h.onload=()=>{c.height=h.naturalHeight,c.width=h.naturalWidth,this.thumbnails.push(c),r()},h.src=c.urlPrefix+c.frames[0].text})})),_(this,"startMove",i=>{if(this.loaded&&u.event(i)&&["touchmove","mousemove"].includes(i.type)&&this.player.media.duration){if("touchmove"===i.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var r,a;const c=this.player.elements.progress.getBoundingClientRect();this.seekTime=this.player.media.duration*(100/c.width*(i.pageX-c.left)/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=i.pageX,this.elements.thumb.time.innerText=Rt(this.seekTime);const d=null===(r=this.player.config.markers)||void 0===r||null===(a=r.points)||void 0===a?void 0:a.find(({time:m})=>m===Math.round(this.seekTime));d&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${d.label}<br>`)}this.showImageAtCurrentTime()}}),_(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),_(this,"startScrubbing",i=>{(u.nullOrUndefined(i.button)||!1===i.button||0===i.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),_(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):Si.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),_(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),_(this,"render",()=>{this.elements.thumb.container=O("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=O("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const i=O("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=O("span",{},"00:00"),i.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(i),u.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=O("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),_(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),_(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const i=this.thumbnails[0].frames.findIndex(c=>this.seekTime>=c.startTime&&this.seekTime<=c.endTime),r=i>=0;let a=0;this.mouseDown||this.toggleThumbContainer(r),r&&(this.thumbnails.forEach((c,h)=>{this.loadedImages.includes(c.frames[i].text)&&(a=h)}),i!==this.showingThumb&&(this.showingThumb=i,this.loadImage(a)))}),_(this,"loadImage",(i=0)=>{const r=this.showingThumb,a=this.thumbnails[i],{urlPrefix:c}=a,h=a.frames[r],d=a.frames[r].text,m=c+d;if(this.currentImageElement&&this.currentImageElement.dataset.filename===d)this.showImage(this.currentImageElement,h,i,r,d,!1),this.currentImageElement.dataset.index=r,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const b=new Image;b.src=m,b.dataset.index=r,b.dataset.filename=d,this.showingThumbFilename=d,this.player.debug.log(`Loading image: ${m}`),b.onload=()=>this.showImage(b,h,i,r,d,!0),this.loadingImage=b,this.removeOldImages(b)}}),_(this,"showImage",(i,r,a,c,h,d=!0)=>{this.player.debug.log(`Showing thumb: ${h}. num: ${c}. qual: ${a}. newimg: ${d}`),this.setImageSizeAndOffset(i,r),d&&(this.currentImageContainer.appendChild(i),this.currentImageElement=i,this.loadedImages.includes(h)||this.loadedImages.push(h)),this.preloadNearby(c,!0).then(this.preloadNearby(c,!1)).then(this.getHigherQuality(a,i,r,h))}),_(this,"removeOldImages",i=>{Array.from(this.currentImageContainer.children).forEach(r=>{if("img"!==r.tagName.toLowerCase())return;const a=this.usingSprites?500:1e3;if(r.dataset.index!==i.dataset.index&&!r.dataset.deleting){r.dataset.deleting=!0;const{currentImageContainer:c}=this;setTimeout(()=>{c.removeChild(r),this.player.debug.log(`Removing thumb: ${r.dataset.filename}`)},a)}})}),_(this,"preloadNearby",(i,r=!0)=>new Promise(a=>{setTimeout(()=>{const c=this.thumbnails[0].frames[i].text;if(this.showingThumbFilename===c){let h;h=r?this.thumbnails[0].frames.slice(i):this.thumbnails[0].frames.slice(0,i).reverse();let d=!1;h.forEach(m=>{const b=m.text;if(b!==c&&!this.loadedImages.includes(b)){d=!0,this.player.debug.log(`Preloading thumb filename: ${b}`);const{urlPrefix:A}=this.thumbnails[0],M=A+b,w=new Image;w.src=M,w.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${b}`),this.loadedImages.includes(b)||this.loadedImages.push(b),a()}}}),d||a()}},300)})),_(this,"getHigherQuality",(i,r,a,c)=>{if(i<this.thumbnails.length-1){let h=r.naturalHeight;this.usingSprites&&(h=a.h),h<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===c&&(this.player.debug.log(`Showing higher quality thumb for: ${c}`),this.loadImage(i+1))},300)}}),_(this,"toggleThumbContainer",(i=!1,r=!1)=>{this.elements.thumb.container.classList.toggle(this.player.config.classNames.previewThumbnails.thumbContainerShown,i),!i&&r&&(this.showingThumb=null,this.showingThumbFilename=null)}),_(this,"toggleScrubbingContainer",(i=!1)=>{this.elements.scrubbing.container.classList.toggle(this.player.config.classNames.previewThumbnails.scrubbingContainerShown,i),i||(this.showingThumb=null,this.showingThumbFilename=null)}),_(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),_(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:i}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(i.clientHeight>20&&i.clientWidth<20){const r=Math.floor(i.clientHeight*this.thumbAspectRatio);i.style.width=`${r}px`}else if(i.clientHeight<20&&i.clientWidth>20){const r=Math.floor(i.clientWidth/this.thumbAspectRatio);i.style.height=`${r}px`}}else{const r=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);i.style.height=`${this.thumbContainerHeight}px`,i.style.width=`${r}px`}this.setThumbContainerPos()}),_(this,"setThumbContainerPos",()=>{const i=this.player.elements.progress.getBoundingClientRect(),r=this.player.elements.container.getBoundingClientRect(),{container:a}=this.elements.thumb,d=this.mousePosX-i.left-a.clientWidth/2,m=ui(d,r.left-i.left+10,r.right-i.left-a.clientWidth-10);a.style.left=`${m}px`,a.style.setProperty("--preview-arrow-offset",d-m+"px")}),_(this,"setScrubbingContainerSize",()=>{const{width:i,height:r}=di(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${i}px`,this.elements.scrubbing.container.style.height=`${r}px`}),_(this,"setImageSizeAndOffset",(i,r)=>{if(!this.usingSprites)return;const a=this.thumbContainerHeight/r.h;i.style.height=i.naturalHeight*a+"px",i.style.width=i.naturalWidth*a+"px",i.style.left=`-${r.x*a}px`,i.style.top=`-${r.y*a}px`}),this.player=s,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:s}=di(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return s}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(s){this.mouseDown?this.currentScrubbingImageElement=s:this.currentThumbnailImageElement=s}}const Lt={insertElements(e,s){u.string(s)?si(e,this.media,{src:s}):u.array(s)&&s.forEach(i=>{si(e,this.media,i)})},change(e){Ei(e,"sources.length")?(Ne.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],Ye(this.media),this.media=null,u.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:s,type:i}=e,[{provider:r=Re.html5,src:a}]=s,c="html5"===r?i:"div",h="html5"===r?{}:{src:a};Object.assign(this,{provider:r,type:i,supported:le.check(i,r,this.config.playsinline),media:O(c,h)}),this.elements.container.appendChild(this.media),u.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),u.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),U.addStyleHook.call(this),this.isHTML5&&Lt.insertElements.call(this,"source",s),this.config.title=e.title,dt.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&Lt.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&U.build.call(this),this.isHTML5&&this.media.load(),u.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Ii(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class Ut{constructor(s,i){if(_(this,"play",()=>u.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>ve(this.media.play())),this.media.play()):null),_(this,"pause",()=>this.playing&&u.function(this.media.pause)?this.media.pause():null),_(this,"togglePlay",d=>(u.boolean(d)?d:!this.playing)?this.play():this.pause()),_(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):u.function(this.media.stop)&&this.media.stop()}),_(this,"restart",()=>{this.currentTime=0}),_(this,"rewind",d=>{this.currentTime-=u.number(d)?d:this.config.seekTime}),_(this,"forward",d=>{this.currentTime+=u.number(d)?d:this.config.seekTime}),_(this,"increaseVolume",d=>{this.volume=(this.media.muted?0:this.volume)+(u.number(d)?d:0)}),_(this,"decreaseVolume",d=>{this.increaseVolume(-d)}),_(this,"airplay",()=>{le.airplay&&this.media.webkitShowPlaybackTargetPicker()}),_(this,"toggleControls",d=>{if(this.supported.ui&&!this.isAudio){const m=Ht(this.elements.container,this.config.classNames.hideControls),A=Y(this.elements.container,this.config.classNames.hideControls,typeof d>"u"?void 0:!d);return A&&u.array(this.config.controls)&&this.config.controls.includes("settings")&&!u.empty(this.config.settings)&&k.toggleMenu.call(this,!1),A!==m&&N.call(this,this.media,A?"controlshidden":"controlsshown"),!A}return!1}),_(this,"on",(d,m)=>{W.call(this,this.elements.container,d,m)}),_(this,"once",(d,m)=>{Si.call(this,this.elements.container,d,m)}),_(this,"off",(d,m)=>{oi(this.elements.container,d,m)}),_(this,"destroy",(d,m=!1)=>{if(!this.ready)return;const b=()=>{document.body.style.overflow="",this.embed=null,m?(Object.keys(this.elements).length&&(Ye(this.elements.buttons.play),Ye(this.elements.captions),Ye(this.elements.controls),Ye(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),u.function(d)&&d()):(Ms.call(this),Ne.cancelRequests.call(this),ri(this.elements.original,this.elements.container),N.call(this,this.elements.original,"destroyed",!0),u.function(d)&&d.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(U.toggleNativeControls.call(this,!0),b()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&u.function(this.embed.destroy)&&this.embed.destroy(),b()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(b),setTimeout(b,200))}),_(this,"supports",d=>le.mime.call(this,d)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=le.touch,this.media=s,u.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||u.nodeList(this.media)||u.array(this.media))&&(this.media=this.media[0]),this.config=ie({},Ce,Ut.defaults,i||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new Pt(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",le),u.nullOrUndefined(this.media)||!u.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!le.check().api)return void this.debug.error("Setup failed: no support");const r=this.media.cloneNode(!0);r.autoplay=!1,this.elements.original=r;const a=this.media.tagName.toLowerCase();let c=null,h=null;switch(a){case"div":if(c=this.media.querySelector("iframe"),u.element(c)){if(h=$e(c.getAttribute("src")),this.provider=function ht(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?Re.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?Re.vimeo:null}(h.toString()),this.elements.container=this.media,this.media=c,this.elements.container.className="",h.search.length){const d=["1","true"];d.includes(h.searchParams.get("autoplay"))&&(this.config.autoplay=!0),d.includes(h.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=d.includes(h.searchParams.get("playsinline")),this.config.youtube.hl=h.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(u.empty(this.provider)||!Object.values(Re).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type="video";break;case"video":case"audio":this.type=a,this.provider=Re.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=le.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new $i(this),this.storage=new Ct(this),this.media.plyr=this,u.element(this.elements.container)||(this.elements.container=O("div"),ct(this.media,this.elements.container)),U.migrateStyles.call(this),U.addStyleHook.call(this),dt.setup.call(this),this.config.debug&&W.call(this,this.elements.container,this.config.events.join(" "),d=>{this.debug.log(`event: ${d.type}`)}),this.fullscreen=new Se(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&U.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new ls(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>ve(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Ii(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Re.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Re.youtube}get isVimeo(){return this.provider===Re.vimeo}get isVideo(){return"video"===this.type}get isAudio(){return"audio"===this.type}get playing(){return!(!this.ready||this.paused||this.ended)}get paused(){return!!this.media.paused}get stopped(){return!(!this.paused||0!==this.currentTime)}get ended(){return!!this.media.ended}set currentTime(s){if(!this.duration)return;const i=u.number(s)&&s>0;this.media.currentTime=i?Math.min(s,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:s}=this.media;return u.number(s)?s:s&&s.length&&this.duration>0?s.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const s=parseFloat(this.config.duration),i=(this.media||{}).duration,r=u.number(i)&&i!==1/0?i:0;return s||r}set volume(s){let i=s;u.string(i)&&(i=Number(i)),u.number(i)||(i=this.storage.get("volume")),u.number(i)||({volume:i}=this.config),i>1&&(i=1),i<0&&(i=0),this.config.volume=i,this.media.volume=i,!u.empty(s)&&this.muted&&i>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(s){let i=s;u.boolean(i)||(i=this.storage.get("muted")),u.boolean(i)||(i=this.config.muted),this.config.muted=i,this.media.muted=i}get muted(){return!!this.media.muted}get hasAudio(){return!(this.isHTML5&&!this.isAudio&&!this.media.mozHasAudio&&!this.media.webkitAudioDecodedByteCount&&(!this.media.audioTracks||!this.media.audioTracks.length))}set speed(s){let i=null;u.number(s)&&(i=s),u.number(i)||(i=this.storage.get("speed")),u.number(i)||(i=this.config.speed.selected);const{minimumSpeed:r,maximumSpeed:a}=this;i=ui(i,r,a),this.config.speed.selected=i,setTimeout(()=>{this.media&&(this.media.playbackRate=i)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(s){const i=this.config.quality,r=this.options.quality;if(!r.length)return;let a=[!u.empty(s)&&Number(s),this.storage.get("quality"),i.selected,i.default].find(u.number),c=!0;if(!r.includes(a)){const h=Zi(r,a);this.debug.warn(`Unsupported quality option: ${a}, using ${h} instead`),a=h,c=!1}i.selected=a,this.media.quality=a,c&&this.storage.set({quality:a})}get quality(){return this.media.quality}set loop(s){const i=u.boolean(s)?s:this.config.loop.active;this.config.loop.active=i,this.media.loop=i}get loop(){return!!this.media.loop}set source(s){Lt.change.call(this,s)}get source(){return this.media.currentSrc}get download(){const{download:s}=this.config.urls;return u.url(s)?s:this.source}set download(s){u.url(s)&&(this.config.urls.download=s,k.setDownloadUrl.call(this))}set poster(s){this.isVideo?U.setPoster.call(this,s,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const s=Qe(me.call(this));return u.array(s)?s.join(":"):s}set ratio(s){this.isVideo?u.string(s)&&ts(s)?(this.config.ratio=Qe(s),fe.call(this)):this.debug.error(`Invalid aspect ratio specified (${s})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(s){this.config.autoplay=u.boolean(s)?s:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(s){R.toggle.call(this,s,!1)}set currentTrack(s){R.set.call(this,s,!1),R.setup.call(this)}get currentTrack(){const{toggled:s,currentTrack:i}=this.captions;return s?i:-1}set language(s){R.setLanguage.call(this,s,!1)}get language(){return(R.getCurrentTrack.call(this)||{}).language}set pip(s){if(!le.pip)return;const i=u.boolean(s)?s:!this.pip;u.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(i?"picture-in-picture":"inline"),u.function(this.media.requestPictureInPicture)&&(!this.pip&&i?this.media.requestPictureInPicture():this.pip&&!i&&document.exitPictureInPicture())}get pip(){return le.pip?u.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:"picture-in-picture"===this.media.webkitPresentationMode:null}setPreviewThumbnails(s){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,s),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Ii(this))}static supported(s,i){return le.check(s,i)}static loadSprite(s,i){return Mi(s,i)}static setup(s,i={}){let r=null;return u.string(s)?r=Array.from(document.querySelectorAll(s)):u.nodeList(s)?r=Array.from(s):u.array(s)&&(r=s.filter(u.element)),u.empty(r)?null:r.map(a=>new Ut(a,i))}}return Ut.defaults=function nt(e){return JSON.parse(JSON.stringify(e))}(Ce),Ut});